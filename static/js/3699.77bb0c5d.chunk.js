"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[3699],{1163:(e,i,s)=>{s(2382),s(579)},3699:(e,i,s)=>{s.r(i),s.d(i,{default:()=>u});var a=s(5043),t=s(6165),l=s(7458),r=s(9722),n=s(9981),c=s(1100),d=s(579);const o=()=>{var e,i,s,t,l,o,m,v;const{id:p}=(0,n.g)(),[x,u]=(0,a.useState)(null),{activeTab:h,changeTab:g}=(0,c._)(),b=e=>{g(e)};(0,a.useEffect)(()=>{(async()=>{try{const e=await r.A.get("".concat("https://api.4ceps.com","/api/centreService/single/").concat(p));u(e.data)}catch(e){console.error("Error fetching service:",e)}})()},[p]);const j=e=>e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return(0,d.jsxs)("section",{className:"breadcrumb border-bottom p-0 d-block section-bg position-relative z-index-1",children:[(0,d.jsxs)("div",{className:"breadcrumb-two",children:[(0,d.jsx)("img",{src:"/assets/images/gradients/Bg.png",alt:"",className:"bg--gradient"}),(0,d.jsx)("div",{className:"container container-two",children:(0,d.jsx)("div",{className:"row justify-content-center",children:(0,d.jsx)("div",{className:"col-lg-12",children:(0,d.jsxs)("div",{className:"breadcrumb-two-content",children:[(0,d.jsxs)("ul",{className:"breadcrumb-list flx-align gap-2 mb-2",children:[(0,d.jsx)("li",{className:"breadcrumb-list__item font-14 text-body",children:(0,d.jsx)(n.N_,{to:"/",className:"breadcrumb-list__link text-body hover-text-main",children:"Home"})}),(0,d.jsx)("li",{className:"breadcrumb-list__item font-14 text-body",children:(0,d.jsx)("span",{className:"breadcrumb-list__icon font-10",children:(0,d.jsx)("i",{className:"fas fa-chevron-right"})})}),(0,d.jsx)("li",{className:"breadcrumb-list__item font-14 text-body",children:(0,d.jsx)(n.N_,{to:"/all-service",className:"breadcrumb-list__link text-body hover-text-main",children:"Services"})})]}),(0,d.jsx)("h5",{className:"breadcrumb-two-content__title mb-3 text-capitalize",children:null!==x&&void 0!==x&&null!==(e=x.service)&&void 0!==e&&e.serviceName?j(null===x||void 0===x||null===(i=x.service)||void 0===i?void 0:i.serviceName):""}),(0,d.jsx)("div",{className:"breadcrumb-content flx-align gap-3",children:(0,d.jsx)("div",{className:"breadcrumb-content__item text-heading fw-500 flx-align gap-2",children:(0,d.jsxs)("span",{className:"text",children:["By"," ",(0,d.jsx)(n.N_,{to:"/profile/".concat(null===x||void 0===x||null===(s=x.service)||void 0===s||null===(t=s.centre)||void 0===t?void 0:t._id),className:"link text-main fw-600",children:null!==x&&void 0!==x&&null!==(l=x.service)&&void 0!==l&&null!==(o=l.centre)&&void 0!==o&&o.centreName?j(null===x||void 0===x||null===(m=x.service)||void 0===m||null===(v=m.centre)||void 0===v?void 0:v.centreName):""})," "]})})})]})})})})]}),(0,d.jsx)("div",{className:"container container-two",children:(0,d.jsx)("div",{className:"breadcrumb-tab flx-wrap align-items-start gap-lg-4 gap-2",children:(0,d.jsxs)("ul",{className:"nav tab-bordered nav-pills",id:"pills-tab",role:"tablist",children:[(0,d.jsx)("li",{className:"nav-item",role:"presentation",children:(0,d.jsx)("button",{id:"pills-product-details-tab","data-bs-toggle":"pill","data-bs-target":"#pills-product-details",type:"button",role:"tab","aria-controls":"pills-product-details","aria-selected":"true",style:{fontSize:"small"},className:"nav-link ".concat("details"===h?"active":""),onClick:()=>b("details"),children:"Service Details"})}),(0,d.jsx)("li",{className:"nav-item",role:"presentation",children:(0,d.jsx)("button",{id:"pills-rating-tab","data-bs-toggle":"pill","data-bs-target":"#pills-rating",type:"button",role:"tab","aria-controls":"pills-rating","aria-selected":"false",style:{fontSize:"small"},className:"nav-link ".concat("ratings"===h?"active":""),onClick:()=>b("ratings"),children:"Rating & Review"})})]})})})]})};var m=s(9379),v=s(8e3);s(6768);const p=()=>{var e,i,s,t,l,o,p,x,u,h,g,b,j,f,N,w,y,_,S,k,C;const{id:I}=(0,n.g)(),[A,R]=(0,a.useState)(null),[E,z]=(0,a.useState)(null),[D,F]=(0,a.useState)(!1),[L,T]=(0,a.useState)(null),[W,B]=(0,a.useState)({rating:0,review:""}),[O,P]=(0,a.useState)(!1),[H,M]=(0,a.useState)([]),[Y,q]=(0,a.useState)(!0),{activeTab:J}=(0,c._)();(0,a.useEffect)(()=>{(async()=>{try{var e,i,s;const a=await r.A.get("".concat("https://api.4ceps.com","/api/centreService/single/").concat(I));R(a.data),z(null===(e=a.data)||void 0===e||null===(i=e.service)||void 0===i||null===(s=i.centre)||void 0===s?void 0:s._id)}catch(a){console.error("Error fetching service:",a)}})()},[I]);const{addToCart:U}=(0,c._)(),Q=(0,n.Zp)(),V=e=>{T(e),F(!0)};(0,a.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("pendingReview"));e&&e.serviceId===I?B(e.data):localStorage.removeItem("pendingReview")},[I]);const Z=e=>{B(i=>(0,m.A)((0,m.A)({},i),{},{rating:e}))},G=async e=>{if(e.preventDefault(),(!W.rating||W.rating<=0)&&!W.review.trim())return void alert("Please provide rating or review");const i=localStorage.getItem("userId");if(!i)return localStorage.setItem("pendingReview",JSON.stringify({serviceId:I,data:W})),void Q("/review-login");P(!0);try{const e=(0,m.A)((0,m.A)({userId:i,serviceId:I},W.rating>0&&{rating:W.rating}),W.review.trim()&&{review:W.review.trim()});await r.A.post("".concat("https://api.4ceps.com","/api/review"),e),alert("Review submitted successfully!"),B({rating:0,review:"",type:"service"}),localStorage.removeItem("pendingReview")}catch(t){var s,a;console.error("Error submitting review:",t),alert((null===t||void 0===t||null===(s=t.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to submit review. Please try again.")}finally{P(!1)}},K=(0,a.useRef)(null);(0,a.useRef)(null);return(0,a.useEffect)(()=>{const e=e=>{K.current&&!K.current.contains(e.target)&&D&&D(!1)};return document.addEventListener("mousedown",e),document.body.style.overflow=D?"hidden":"auto",()=>{document.removeEventListener("mousedown",e),document.body.style.overflow="auto"}},[D]),(0,a.useEffect)(()=>{(async()=>{try{const e=await r.A.get("".concat("https://api.4ceps.com","/api/review/service/").concat(I));M(e.data.reviews||[])}catch(e){console.error("Error fetching reviews:",e)}finally{q(!1)}})()},[I]),Y?(0,d.jsx)("p",{children:"Loading reviews..."}):(0,d.jsxs)("div",{className:"product-details mt-32 padding-b-120",children:[(0,d.jsx)("div",{className:"container container-two",children:(0,d.jsxs)("div",{className:"row gy-4",children:[(0,d.jsx)("div",{className:"col-lg-8",children:(0,d.jsxs)("div",{className:"tab-content",id:"pills-tabContent",children:[(0,d.jsxs)("div",{className:"tab-pane fade ".concat("details"===J?"show active":""),id:"pills-product-details",role:"tabpanel","aria-labelledby":"pills-product-details-tab",tabIndex:0,children:[(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("div",{className:"product-details__thumb"}),(0,d.jsx)("p",{className:"product-details__desc",children:null===A||void 0===A||null===(e=A.service)||void 0===e?void 0:e.description}),(0,d.jsx)("div",{children:(0,d.jsx)("ul",{children:(0,d.jsxs)("li",{className:"",style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,d.jsx)("span",{className:"name",children:"Category:"}),(0,d.jsx)("span",{className:"details",style:{marginLeft:"0px"},children:null===A||void 0===A||null===(i=A.service)||void 0===i?void 0:i.serviceCategory})]})})}),(0,d.jsxs)("div",{className:"product-details__item mt-4",children:[(0,d.jsx)("h6",{className:"product-details__title mb-3 ",children:"Facilities"}),(null===A||void 0===A||null===(s=A.service)||void 0===s||null===(t=s.centre)||void 0===t||null===(l=t.availableFacilities)||void 0===l?void 0:l.length)>0?(0,d.jsx)("ul",{className:"product-list",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0px 20px",paddingLeft:"17px",margin:0},children:A.service.centre.availableFacilities.map((e,i)=>(0,d.jsx)("li",{className:"product-list__item",style:{margin:"3px 0"},children:e},i))}):(0,d.jsx)("p",{children:"Facilities Not Mentioned"})]}),(0,d.jsxs)("div",{className:"product-details__item",children:[(0,d.jsx)("h6",{className:"product-details__title mb-3",children:"Insurance Availability"}),(null===A||void 0===A||null===(o=A.service)||void 0===o||null===(p=o.centre)||void 0===p?void 0:p.availableInsurance.length)>1?(0,d.jsx)("ul",{className:"product-list",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0px 20px",paddingLeft:"17px",margin:0},children:null===A||void 0===A||null===(x=A.service)||void 0===x||null===(u=x.centre)||void 0===u||null===(h=u.availableInsurance)||void 0===h?void 0:h.map((e,i)=>(0,d.jsx)("li",{className:"product-list__item",style:{margin:"3px 0"},children:e},i))}):(0,d.jsx)("p",{children:"No Insurance Available"})]})]}),(0,d.jsx)("div",{className:"review-section d-none d-lg-block",children:(0,d.jsxs)("div",{className:"review-card",children:[(0,d.jsx)("h5",{className:"review-title",children:"Write a Review"}),(0,d.jsxs)("form",{onSubmit:G,children:[(0,d.jsxs)("div",{className:"review-group",children:[(0,d.jsxs)("label",{children:["Rating ",(0,d.jsx)("span",{children:"(Optional)"})]}),(0,d.jsx)("div",{className:"review-stars",children:[1,2,3,4,5].map(e=>(0,d.jsx)("span",{className:"review-star ".concat(e<=W.rating?"filled":""),onClick:()=>Z(e),children:"\u2605"},e))}),(0,d.jsx)("small",{children:"Click to rate (1\u20135 stars) \u2013 Optional"})]}),(0,d.jsxs)("div",{className:"review-group",children:[(0,d.jsx)("label",{children:"Your Review"}),(0,d.jsx)("textarea",{placeholder:"Share your experience with this service...",value:W.review,onChange:e=>B(i=>(0,m.A)((0,m.A)({},i),{},{review:e.target.value})),rows:"4",maxLength:"1000"}),(0,d.jsxs)("small",{children:[W.review.length,"/1000 characters"]})]}),(0,d.jsx)("button",{type:"submit",className:"review-submit",disabled:O||!W.rating&&!W.review.trim(),children:O?"Submitting...":"Submit Review"})]})]})})]}),(0,d.jsx)("div",{className:"tab-pane fade ".concat("ratings"===J?"show active":""),id:"pills-rating",role:"tabpanel","aria-labelledby":"pills-rating-tab",tabIndex:0,children:(0,d.jsx)("div",{className:"product-review-wrapper",children:Y?(0,d.jsx)("p",{children:"Loading reviews..."}):H.length>0?H.map(e=>(0,d.jsxs)("div",{className:"product-review",children:[(0,d.jsxs)("div",{className:"product-review__top flx-between",children:[(0,d.jsx)("div",{className:"product-review__rating flx-align",children:(0,d.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[(0,d.jsx)("ul",{className:"star-rating",children:[1,2,3,4,5].map(i=>(0,d.jsx)("li",{className:"star-rating__item font-11",style:{color:i<=e.rating?"#ffc107":"#ddd"},children:(0,d.jsx)("i",{className:"fas fa-star"})},i))}),(0,d.jsx)("span",{className:"star-rating__text text-body",children:"number"===typeof e.rating?e.rating.toFixed(1):"0.0"})]})}),(0,d.jsxs)("div",{className:"product-review__date",children:["by"," ",(0,d.jsx)("span",{className:"product-review__user text-primary",children:e.userName})," ",(0,v.fF)(e.updatedAt)]})]}),(0,d.jsx)("div",{className:"product-review__body",children:(0,d.jsx)("p",{className:"product-review__desc",children:e.review})})]},e._id)):(0,d.jsx)("p",{className:"text-muted",children:"No reviews found for this service."})})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"pills-comments",role:"tabpanel","aria-labelledby":"pills-comments-tab",tabIndex:0})]})}),"ratings"!==J&&(0,d.jsx)("div",{className:"col-lg-4",children:(0,d.jsxs)("div",{className:"product-sidebar section-bg",children:[(0,d.jsxs)("div",{className:"product-sidebar__top position-relative flx-between gap-1",children:[(0,d.jsx)("button",{type:"button",className:"font-heading font-18",children:"Book Appointment"}),(0,d.jsxs)("div",{className:"flx-align gap-2",children:[(0,d.jsxs)("h6",{className:"product-item__price text-success mb-0",children:["\u20b9",null===A||void 0===A||null===(g=A.service)||void 0===g?void 0:g.totalPrice]}),null!==A&&void 0!==A&&null!==(b=A.service)&&void 0!==b&&b.discountPrice?(0,d.jsxs)("span",{className:"product-item__prevPrice text-decoration-line-through",children:["\u20b9",null===A||void 0===A||null===(j=A.service)||void 0===j?void 0:j.actualPrice]}):null]})]}),(0,d.jsxs)(n.N_,{to:"/cart",state:{from:"/service-details/".concat(null===A||void 0===A||null===(f=A.service)||void 0===f?void 0:f._id)},className:"btn btn-main d-flex w-100 justify-content-center align-items-center gap-2 pill px-sm-5 mt-32",onClick:()=>{var e,i;return(async(e,i)=>{try{const s=(await r.A.get("".concat("https://api.4ceps.com","/api/centreService/single/").concat(e))).data;U(s),Q("/cart",{state:{from:i}})}catch(s){console.error("Error adding to cart",s)}})(null===A||void 0===A||null===(e=A.service)||void 0===e?void 0:e._id,"/service-details/".concat(null===A||void 0===A||null===(i=A.service)||void 0===i?void 0:i._id))},children:[(0,d.jsx)("img",{src:"/assets/images/icons/add-to-cart.svg",alt:""}),"Book Now"]}),(0,d.jsx)("div",{className:"author-details",children:null===A||void 0===A||null===(N=A.service)||void 0===N||null===(w=N.doctors)||void 0===w?void 0:w.map((e,i)=>(0,d.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,d.jsx)("div",{className:"author-details__thumb flex-shrink-0",children:(0,d.jsx)("img",{src:e.profilePhoto,alt:e.name,style:{borderRadius:"50%",width:"73x",height:"70px",objectFit:"cover"},onClick:()=>V(e)})}),(0,d.jsxs)("div",{className:"author-details__content",children:[(0,d.jsx)("h6",{className:"author-details__name font-18 mb-1",children:(0,d.jsx)("button",{className:" p-0 link text-decoration-none border-0 bg-transparent",style:{fontSize:"inherit",fontWeight:"inherit",color:"black"},onClick:()=>V(e),children:e.name})}),(0,d.jsxs)("div",{style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:4,overflow:"hidden",maxHeight:"5.9rem",textOverflow:"ellipsis",whiteSpace:"normal"},children:[(0,d.jsx)("span",{className:"text",children:e.specialization}),(0,d.jsxs)("span",{className:"text",children:[e.qualification," "]})]}),(0,d.jsx)("button",{className:"text-primary text-decoration-underline",onClick:()=>V(e),children:"View More"})]})]},e._id||i))}),(0,d.jsx)("ul",{className:"meta-attribute",children:(0,d.jsxs)("li",{className:"meta-attribute__item",children:[(0,d.jsx)("span",{className:"name",children:"Availability Time"}),(0,d.jsx)("span",{className:"details d-flex flex-wrap gap-2",children:null===A||void 0===A||null===(y=A.service)||void 0===y||null===(_=y.slots)||void 0===_?void 0:_.map(e=>(0,d.jsxs)("p",{children:[e.day,": ",e.from," - ",e.to]},e._id))})]})}),(0,d.jsx)("span",{className:"name",style:{color:"black"},children:"Doctor Report Uploading Time:"})," ",(0,d.jsxs)("span",{className:"name",children:[" ",null===A||void 0===A||null===(S=A.service)||void 0===S?void 0:S.reportTiming]}),(0,d.jsx)("div",{style:{marginTop:"20px",width:"100%",maxWidth:"800px",height:"300px",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},dangerouslySetInnerHTML:{__html:null===A||void 0===A||null===(k=A.service)||void 0===k||null===(C=k.centre)||void 0===C?void 0:C.googleMapLink}}),(0,d.jsx)("div",{className:"review-section d-block d-lg-none",children:(0,d.jsxs)("div",{className:"review-card",children:[(0,d.jsx)("h5",{className:"review-title",children:"Write a Review"}),(0,d.jsxs)("form",{onSubmit:G,children:[(0,d.jsxs)("div",{className:"review-group",children:[(0,d.jsxs)("label",{children:["Rating ",(0,d.jsx)("span",{children:"(Optional)"})]}),(0,d.jsx)("div",{className:"review-stars",children:[1,2,3,4,5].map(e=>(0,d.jsx)("span",{className:"review-star ".concat(e<=W.rating?"filled":""),onClick:()=>Z(e),children:"\u2605"},e))}),(0,d.jsx)("small",{children:"Click to rate (1\u20135 stars) \u2013 Optional"})]}),(0,d.jsxs)("div",{className:"review-group",children:[(0,d.jsx)("label",{children:"Your Review"}),(0,d.jsx)("textarea",{placeholder:"Share your experience with this service...",value:W.review,onChange:e=>B(i=>(0,m.A)((0,m.A)({},i),{},{review:e.target.value})),rows:"4",maxLength:"1000"}),(0,d.jsxs)("small",{children:[W.review.length,"/1000 characters"]})]}),(0,d.jsx)("button",{type:"submit",className:"review-submit",disabled:O||!W.rating&&!W.review.trim(),children:O?"Submitting...":"Submit Review"})]})]})})]})})]})}),D&&L&&(0,d.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,d.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"10px",maxWidth:"800px",width:"95%",maxHeight:"95vh",boxShadow:"0 0 10px rgba(0,0,0,0.3)",position:"relative",overflowY:"auto",paddingBottom:"20px"},children:[(0,d.jsxs)("div",{style:{backgroundColor:"#3a3a3a",color:"#fff",padding:"15px 20px",fontSize:"18px",fontWeight:"bold",position:"sticky",top:0,zIndex:1},children:[(0,d.jsx)("i",{className:"fas fa-user-md me-2"})," Doctor Details",(0,d.jsx)("button",{onClick:()=>{F(!1),T(null)},style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",fontSize:"22px",color:"#fff",cursor:"pointer"},children:"\xd7"})]}),(0,d.jsxs)("div",{style:{padding:"20px",display:"flex",flexWrap:"wrap",gap:"20px",color:"#333"},children:[(0,d.jsx)("div",{style:{flex:1,minWidth:"250px",textAlign:"center"},children:(0,d.jsx)("img",{src:L.profilePhoto,alt:L.name,style:{width:"150px",height:"150px",objectFit:"cover",borderRadius:"50%",border:"4px solid #e3f2fd",boxShadow:"0 0 5px rgba(0,0,0,0.3)"}})}),(0,d.jsxs)("div",{style:{flex:2,minWidth:"250px"},children:[(0,d.jsx)("h4",{className:"mb-3 fw-bold",children:L.name}),L.specialization&&(0,d.jsxs)("div",{style:{marginBottom:"10px",alignItems:"center"},children:[(0,d.jsx)("i",{className:"fas fa-stethoscope  me-2"}),(0,d.jsx)("strong",{children:"Specialization:"}),"\xa0",(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:L.specialization})]}),L.qualification&&(0,d.jsxs)("div",{style:{marginBottom:"10px",alignItems:"center"},children:[(0,d.jsx)("i",{className:"fas fa-graduation-cap  me-2"}),(0,d.jsx)("strong",{children:"Qualification:"}),"\xa0",(0,d.jsx)("span",{children:L.qualification})]}),L.experience&&(0,d.jsxs)("div",{style:{marginBottom:"10px",display:"flex",alignItems:"center"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt  me-2"}),(0,d.jsx)("strong",{children:"Experience:"}),"\xa0",(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:L.experience})]}),L.aboutDoctor&&(0,d.jsxs)("div",{style:{marginBottom:"10px",alignItems:"flex-start"},children:[(0,d.jsx)("i",{className:"fas fa-info-circle me-2 mt-1"}),(0,d.jsx)("strong",{children:"About:"}),(0,d.jsx)("p",{style:{marginTop:"5px"},children:L.aboutDoctor})]})]})]})]})})]})};s(1163);var x=s(2784);const u=()=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.A,{}),(0,d.jsx)(l.A,{}),(0,d.jsx)(o,{}),(0,d.jsx)(p,{}),(0,d.jsx)(x.A,{})]})},6768:()=>{},8e3:(e,i,s)=>{s.d(i,{En:()=>l,ak:()=>t,fF:()=>a});const a=e=>{const i=(new Date-new Date(e))/1e3,s=[{name:"year",seconds:31536e3},{name:"month",seconds:2592e3},{name:"day",seconds:86400},{name:"hour",seconds:3600},{name:"minute",seconds:60},{name:"second",seconds:1}];for(let a of s){const e=Math.floor(i/a.seconds);if(e>=1)return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(-e,a.name)}return"just now"};function t(){const e=new Date;e.setHours(0,0,0,0);const i=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(i,"-").concat(s,"-").concat(a)}function l(e){const i=new Date(e),s=new Date;return s.setHours(0,0,0,0),i>=s}}}]);
//# sourceMappingURL=3699.77bb0c5d.chunk.js.map