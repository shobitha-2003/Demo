"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[5944],{1163:(e,a,i)=>{i(2382),i(579)},5944:(e,a,i)=>{i.r(a),i.d(a,{default:()=>v});var s=i(5043),t=i(6165),l=i(7458),n=(i(1163),i(2784)),r=i(9379),c=i(9722),o=i(9981),d=i(1100),p=i(8e3),m=(i(6768),i(579));const x=()=>{var e,a,i,t,l,n,x,u,v,g,h,b,j,f,N,w,y,k,_,S,A,C,I,R;const[E,T]=(0,s.useState)([]),[D,F]=(0,s.useState)({rating:0,review:""}),[z,L]=(0,s.useState)(!1),{activeTab:W}=(0,d._)(),[B,P]=(0,s.useState)(!0),{id:O}=(0,o.g)(),[H,M]=(0,s.useState)(null);(0,s.useEffect)(()=>{O&&(async()=>{try{const e=await c.A.get("".concat("https://api.4ceps.com","/api/packages/single/").concat(O));M(e.data)}catch(e){console.error("Error fetching package data:",e)}})()},[O]);const[Y,q]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{try{const e=await c.A.get("".concat("https://api.4ceps.com","/api/packages"));q(e.data)}catch(e){console.error("Error in fetching the recent package data",e)}})()},[]);const{addToCart:U}=(0,d._)(),J=(0,o.Zp)(),{cartItems:Q}=(0,d._)(),V=async(e,a)=>{var i;if(i=e,Q.some(e=>"package"===e.type&&e._id===i))J("/cart",{state:{from:a}});else try{const i=await c.A.get("".concat("https://api.4ceps.com","/api/packages/single/").concat(e)),s=(0,r.A)((0,r.A)({},i.data),{},{type:"package"});U(s),J("/cart",{state:{from:a}})}catch(s){console.error("Error adding package to cart",s)}},[Z,G]=(0,s.useState)(null),[K,X]=(0,s.useState)(!1),$=e=>{G(e),X(!0)},ee=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{ee.current&&!ee.current.contains(e.target)&&K&&K(!1)};return document.addEventListener("mousedown",e),document.body.style.overflow=K?"hidden":"auto",()=>{document.removeEventListener("mousedown",e),document.body.style.overflow="auto"}},[K]);const ae=e=>{F(a=>(0,r.A)((0,r.A)({},a),{},{rating:e}))},ie=async e=>{if(e.preventDefault(),(!D.rating||D.rating<=0)&&!D.review.trim())return void alert("Please provide rating or review");const a=localStorage.getItem("userId");if(!a)return localStorage.setItem("pendingReview",JSON.stringify({serviceId:O,data:D})),void J("/review-login");L(!0);try{const e=(0,r.A)((0,r.A)({userId:a,packageId:O},D.rating>0&&{rating:D.rating}),D.review.trim()&&{review:D.review.trim()});await c.A.post("".concat("https://api.4ceps.com","/api/review/createReveiw/package"),e),alert("Review submitted successfully!"),F({rating:0,review:""}),localStorage.removeItem("pendingReview")}catch(t){var i,s;console.error("Error submitting review:",t),alert((null===t||void 0===t||null===(i=t.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Failed to submit review. Please try again.")}finally{L(!1)}};return(0,s.useEffect)(()=>{(async()=>{try{console.log("calling");const e=await c.A.get("".concat("https://api.4ceps.com","/api/review/package/").concat(O));console.log("response",e.data),T(e.data.reviews||[])}catch(e){console.error("Error fetching reviews:",e)}finally{P(!1)}})()},[O]),(0,m.jsxs)("div",{className:"product-details mt-32 padding-b-120",children:[(0,m.jsx)("div",{className:"container container-two",children:(0,m.jsxs)("div",{className:"row gy-4",children:[(0,m.jsx)("div",{className:"col-lg-8",children:(0,m.jsxs)("div",{className:"tab-content",id:"pills-tabContent",children:[(0,m.jsxs)("div",{className:"tab-pane fade show active",id:"pills-product-details",role:"tabpanel","aria-labelledby":"pills-product-details-tab",tabIndex:0,children:[(0,m.jsxs)("div",{className:"product-details",children:[(0,m.jsx)("div",{className:"product-details__thumb"}),(0,m.jsx)("p",{className:"product-details__desc",children:null===H||void 0===H||null===(e=H.package)||void 0===e?void 0:e.description}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h6",{className:"product-details__title mb-3",children:"Services Included"}),(0,m.jsx)("ul",{className:"product-list",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0px 20px",paddingLeft:"17px",margin:0},children:null===H||void 0===H||null===(a=H.package)||void 0===a||null===(i=a.services)||void 0===i?void 0:i.map((e,a)=>(0,m.jsx)("li",{className:"product-list__item",children:e.serviceName},e._id||a))})]}),(0,m.jsx)("br",{}),(0,m.jsxs)("div",{className:"product-details__item",children:[(0,m.jsx)("h6",{className:"product-details__title mb-3",children:"Facilities"}),(null===H||void 0===H||null===(t=H.package)||void 0===t||null===(l=t.centre)||void 0===l?void 0:l.availableFacilities.length)>1?(0,m.jsx)("ul",{className:"product-list",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0px 20px",paddingLeft:"17px",margin:0},children:null===H||void 0===H||null===(n=H.package)||void 0===n||null===(x=n.centre)||void 0===x||null===(u=x.availableFacilities)||void 0===u?void 0:u.map((e,a)=>(0,m.jsx)("li",{className:"product-list__item",style:{margin:"3px 0"},children:e},a))}):(0,m.jsx)("p",{children:"Facilities not Mentioned"})]}),(0,m.jsxs)("div",{className:"product-details__item",children:[(0,m.jsx)("h6",{className:"product-details__title mb-3",children:"Insurance Availability"}),(null===H||void 0===H||null===(v=H.package)||void 0===v||null===(g=v.centre)||void 0===g?void 0:g.availableInsurance.length)>1?(0,m.jsx)("ul",{className:"product-list",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0px 20px",paddingLeft:"17px",margin:0},children:null===H||void 0===H||null===(h=H.package)||void 0===h||null===(b=h.centre)||void 0===b||null===(j=b.availableInsurance)||void 0===j?void 0:j.map((e,a)=>(0,m.jsx)("li",{className:"product-list__item",style:{margin:"3px 0"},children:e},a))}):(0,m.jsx)("p",{children:"No Insurance Available"})]})]}),(0,m.jsx)("div",{className:"review-section d-none d-lg-block",children:(0,m.jsxs)("div",{className:"review-card",children:[(0,m.jsx)("h5",{className:"review-title",children:"Write a Review"}),(0,m.jsxs)("form",{onSubmit:ie,children:[(0,m.jsxs)("div",{className:"review-group",children:[(0,m.jsxs)("label",{children:["Rating ",(0,m.jsx)("span",{children:"(Optional)"})]}),(0,m.jsx)("div",{className:"review-stars",children:[1,2,3,4,5].map(e=>(0,m.jsx)("span",{className:"review-star ".concat(e<=D.rating?"filled":""),onClick:()=>ae(e),children:"\u2605"},e))}),(0,m.jsx)("small",{children:"Click to rate (1\u20135 stars) \u2013 Optional"})]}),(0,m.jsxs)("div",{className:"review-group",children:[(0,m.jsx)("label",{children:"Your Review"}),(0,m.jsx)("textarea",{placeholder:"Share your experience with this service...",value:D.review,onChange:e=>F(a=>(0,r.A)((0,r.A)({},a),{},{review:e.target.value})),rows:"4",maxLength:"1000"}),(0,m.jsxs)("small",{children:[D.review.length,"/1000 characters"]})]}),(0,m.jsx)("button",{type:"submit",className:"review-submit",disabled:z||!D.rating&&!D.review.trim(),children:z?"Submitting...":"Submit Review"})]})]})})]}),(0,m.jsx)("div",{className:"tab-pane fade ".concat("ratings"===W?"show active":""),id:"pills-rating",role:"tabpanel","aria-labelledby":"pills-rating-tab",tabIndex:0,children:(0,m.jsx)("div",{className:"product-review-wrapper",children:B?(0,m.jsx)("p",{children:"Loading reviews..."}):E.length>0?E.map(e=>(0,m.jsxs)("div",{className:"product-review",children:[(0,m.jsxs)("div",{className:"product-review__top flx-between",children:[(0,m.jsx)("div",{className:"product-review__rating flx-align",children:(0,m.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[(0,m.jsx)("ul",{className:"star-rating",children:[1,2,3,4,5].map(a=>(0,m.jsx)("li",{className:"star-rating__item font-11",style:{color:a<=e.rating?"#ffc107":"#ddd"},children:(0,m.jsx)("i",{className:"fas fa-star"})},a))}),(0,m.jsx)("span",{className:"star-rating__text text-body",children:"number"===typeof e.rating?e.rating.toFixed(1):"0.0"})]})}),(0,m.jsxs)("div",{className:"product-review__date",children:["by"," ",(0,m.jsx)("span",{className:"product-review__user text-primary",children:e.userName})," ",(0,p.fF)(e.updatedAt)]})]}),(0,m.jsx)("div",{className:"product-review__body",children:(0,m.jsx)("p",{className:"product-review__desc",children:e.review})})]},e._id)):(0,m.jsx)("p",{className:"text-muted",children:"No reviews found for this package."})})}),(0,m.jsx)("div",{className:"tab-pane fade",id:"pills-comments",role:"tabpanel","aria-labelledby":"pills-comments-tab",tabIndex:0})]})}),"ratings"!==W&&(0,m.jsx)("div",{className:"col-lg-4",children:(0,m.jsxs)("div",{className:"product-sidebar section-bg",children:[(0,m.jsxs)("div",{className:"product-sidebar__top position-relative flx-between gap-1",children:[(0,m.jsx)("button",{type:"button",className:"font-heading font-18",children:"Book Appointment"}),(0,m.jsxs)("div",{className:"flx-align gap-2",children:[(0,m.jsxs)("h6",{className:"product-item__price  text-success mb-0",children:["\u20b9",null===H||void 0===H||null===(f=H.package)||void 0===f?void 0:f.totalPrice]}),null!==H&&void 0!==H&&null!==(N=H.package)&&void 0!==N&&N.discountPrice?(0,m.jsxs)("span",{className:"product-item__prevPrice text-decoration-line-through",children:["\u20b9",null===H||void 0===H||null===(w=H.package)||void 0===w?void 0:w.actualPrice]}):null]})]}),(0,m.jsxs)(o.N_,{to:"/cart",state:{from:"/package-details/".concat(null===H||void 0===H||null===(y=H.package)||void 0===y?void 0:y._id)},className:"btn btn-main d-flex w-100 justify-content-center align-items-center gap-2 pill px-sm-5 mt-32",onClick:()=>{var e,a;return V(null===H||void 0===H||null===(e=H.package)||void 0===e?void 0:e._id,"/package-details/".concat(null===H||void 0===H||null===(a=H.package)||void 0===a?void 0:a._id))},children:[(0,m.jsx)("img",{src:"/assets/images/icons/add-to-cart.svg",alt:""}),"Book Now"]}),(0,m.jsx)("div",{className:"author-details",children:(null===H||void 0===H||null===(k=H.package)||void 0===k||null===(_=k.doctors)||void 0===_?void 0:_.length)>0&&(0,m.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,m.jsx)("div",{className:"author-details__thumb flex-shrink-0",children:(0,m.jsx)("img",{src:H.package.doctors[0].profilePhoto,alt:H.package.doctors[0].name,style:{borderRadius:"50%",width:"73px",height:"70px",objectFit:"cover"},onClick:()=>$(H.package.doctors[0])})}),(0,m.jsxs)("div",{className:"author-details__content",children:[(0,m.jsx)("h6",{className:"author-details__name font-18 mb-2",children:(0,m.jsx)("button",{className:"p-0 link text-decoration-none border-0 bg-transparent",style:{fontSize:"inherit",fontWeight:"inherit",color:"black"},onClick:()=>$(H.package.doctors[0]),children:H.package.doctors[0].name})}),(0,m.jsxs)("div",{style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:4,overflow:"hidden",maxHeight:"5.9rem",textOverflow:"ellipsis",whiteSpace:"normal"},children:[(0,m.jsx)("span",{className:"text",children:H.package.doctors[0].specialization}),(0,m.jsx)("span",{className:"text",children:H.package.doctors[0].qualification})]}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{className:"text-primary text-decoration-underline",onClick:()=>$(H.package.doctors[0]),children:"View More"})})]})]},H.package.doctors[0]._id)}),(0,m.jsx)("ul",{className:"meta-attribute",children:(0,m.jsxs)("li",{className:"meta-attribute__item",children:[(0,m.jsx)("span",{className:"name",children:"Availability Time"}),(0,m.jsx)("span",{className:"details d-flex flex-wrap gap-2",children:null===H||void 0===H||null===(S=H.package)||void 0===S||null===(A=S.slots)||void 0===A?void 0:A.map(e=>(0,m.jsxs)("p",{children:[e.day,": ",e.from," - ",e.to]},e._id))})]})}),(0,m.jsx)("span",{className:"details",style:{color:"black"},children:"Doctor Report Uploading Time:"})," ",(0,m.jsx)("span",{className:"details",children:null===H||void 0===H||null===(C=H.package)||void 0===C?void 0:C.reportTiming}),(0,m.jsx)("div",{style:{marginTop:"20px",width:"100%",maxWidth:"800px",height:"300px",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},dangerouslySetInnerHTML:{__html:null===H||void 0===H||null===(I=H.package)||void 0===I||null===(R=I.centre)||void 0===R?void 0:R.googleMapLink}}),(0,m.jsx)("div",{className:"review-section d-block d-lg-none",children:(0,m.jsxs)("div",{className:"review-card",children:[(0,m.jsx)("h5",{className:"review-title",children:"Write a Review"}),(0,m.jsxs)("form",{onSubmit:ie,children:[(0,m.jsxs)("div",{className:"review-group",children:[(0,m.jsxs)("label",{children:["Rating ",(0,m.jsx)("span",{children:"(Optional)"})]}),(0,m.jsx)("div",{className:"review-stars",children:[1,2,3,4,5].map(e=>(0,m.jsx)("span",{className:"review-star ".concat(e<=D.rating?"filled":""),onClick:()=>ae(e),children:"\u2605"},e))}),(0,m.jsx)("small",{children:"Click to rate (1\u20135 stars) \u2013 Optional"})]}),(0,m.jsxs)("div",{className:"review-group",children:[(0,m.jsx)("label",{children:"Your Review"}),(0,m.jsx)("textarea",{placeholder:"Share your experience with this service...",value:D.review,onChange:e=>F(a=>(0,r.A)((0,r.A)({},a),{},{review:e.target.value})),rows:"4",maxLength:"1000"}),(0,m.jsxs)("small",{children:[D.review.length,"/1000 characters"]})]}),(0,m.jsx)("button",{type:"submit",className:"review-submit",disabled:z||!D.rating&&!D.review.trim(),children:z?"Submitting...":"Submit Review"})]})]})})]})})]})}),K&&Z&&(0,m.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,m.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"10px",maxWidth:"800px",width:"95%",maxHeight:"95vh",boxShadow:"0 0 10px rgba(0,0,0,0.3)",position:"relative",overflowY:"auto",paddingBottom:"20px"},children:[(0,m.jsxs)("div",{style:{backgroundColor:"#3a3a3a",color:"#fff",padding:"15px 20px",fontSize:"18px",fontWeight:"bold",position:"sticky",top:0,zIndex:1},children:[(0,m.jsx)("i",{className:"fas fa-user-md me-2"})," Doctor Details",(0,m.jsx)("button",{onClick:()=>{X(!1),G(null)},style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",fontSize:"22px",color:"#fff",cursor:"pointer"},children:"\xd7"})]}),(0,m.jsxs)("div",{style:{padding:"20px",display:"flex",flexWrap:"wrap",gap:"20px",color:"#333"},children:[(0,m.jsx)("div",{style:{flex:1,minWidth:"250px",textAlign:"center"},children:(0,m.jsx)("img",{src:Z.profilePhoto,alt:Z.name,style:{width:"150px",height:"150px",objectFit:"cover",borderRadius:"50%",border:"4px solid #e3f2fd",boxShadow:"0 0 5px rgba(0,0,0,0.3)"}})}),(0,m.jsxs)("div",{style:{flex:2,minWidth:"250px"},children:[(0,m.jsx)("h4",{className:"mb-3 fw-bold",children:Z.name}),Z.specialization&&(0,m.jsxs)("div",{style:{marginBottom:"10px",alignItems:"center"},children:[(0,m.jsx)("i",{className:"fas fa-stethoscope  me-2"}),(0,m.jsx)("strong",{children:"Specialization:"}),"\xa0",(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:Z.specialization})]}),Z.qualification&&(0,m.jsxs)("div",{style:{marginBottom:"10px",alignItems:"center"},children:[(0,m.jsx)("i",{className:"fas fa-graduation-cap  me-2"}),(0,m.jsx)("strong",{children:"Qualification:"}),"\xa0",(0,m.jsx)("span",{children:Z.qualification})]}),Z.experience&&(0,m.jsxs)("div",{style:{marginBottom:"10px",display:"flex",alignItems:"center"},children:[(0,m.jsx)("i",{className:"fas fa-calendar-alt  me-2"}),(0,m.jsx)("strong",{children:"Experience:"}),"\xa0",(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:Z.experience})]}),Z.aboutDoctor&&(0,m.jsxs)("div",{style:{marginBottom:"10px",alignItems:"flex-start"},children:[(0,m.jsx)("i",{className:"fas fa-info-circle me-2 mt-1"}),(0,m.jsx)("strong",{children:"About:"}),(0,m.jsx)("p",{style:{marginTop:"5px"},children:Z.aboutDoctor})]})]})]})]})})]})},u=()=>{var e,a,i,t,l,n,r;const{id:p}=(0,o.g)(),[x,u]=(0,s.useState)(null),{activeTab:v,changeTab:g}=(0,d._)(),h=e=>{g(e)};(0,s.useEffect)(()=>{p&&(async()=>{try{const e=await c.A.get("".concat("https://api.4ceps.com","/api/packages/single/").concat(p));g("details"),u(e.data)}catch(e){console.error("Error fetching package data:",e)}})()},[p]);const b=e=>e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return(0,m.jsxs)("section",{className:"breadcrumb border-bottom p-0 d-block section-bg position-relative z-index-1",children:[(0,m.jsxs)("div",{className:"breadcrumb-two",children:[(0,m.jsx)("img",{src:"/assets/images/gradients/Bg.png",alt:"",className:"bg--gradient"}),(0,m.jsx)("div",{className:"container container-two",children:(0,m.jsx)("div",{className:"row justify-content-center",children:(0,m.jsx)("div",{className:"col-lg-12",children:(0,m.jsxs)("div",{className:"breadcrumb-two-content",children:[(0,m.jsxs)("ul",{className:"breadcrumb-list flx-align gap-2 mb-2",children:[(0,m.jsx)("li",{className:"breadcrumb-list__item font-14 text-body",children:(0,m.jsx)(o.N_,{to:"/",className:"breadcrumb-list__link text-body hover-text-main",children:"Home"})}),(0,m.jsx)("li",{className:"breadcrumb-list__item font-14 text-body",children:(0,m.jsx)("span",{className:"breadcrumb-list__icon font-10",children:(0,m.jsx)("i",{className:"fas fa-chevron-right"})})}),(0,m.jsx)("li",{className:"breadcrumb-list__item font-14 text-body",children:(0,m.jsx)(o.N_,{to:"/centers",className:"breadcrumb-list__link text-body hover-text-main",children:"Packages"})})]}),(0,m.jsx)("h5",{className:"breadcrumb-two-content__title mb-3 text-capitalize",children:null!==x&&void 0!==x&&null!==(e=x.package)&&void 0!==e&&e.packageName?b(x.package.packageName):""}),(0,m.jsx)("div",{className:"breadcrumb-content flx-align gap-3",children:(0,m.jsx)("div",{className:"breadcrumb-content__item text-heading fw-500 flx-align gap-2",children:(0,m.jsxs)("span",{className:"text",children:["By"," ",(0,m.jsx)(o.N_,{to:"/profile/".concat(null===x||void 0===x||null===(a=x.package)||void 0===a||null===(i=a.centre)||void 0===i?void 0:i._id),className:"link text-main fw-600",children:null!==x&&void 0!==x&&null!==(t=x.package)&&void 0!==t&&null!==(l=t.centre)&&void 0!==l&&l.centreName?b(null===x||void 0===x||null===(n=x.package)||void 0===n||null===(r=n.centre)||void 0===r?void 0:r.centreName):""})," "]})})})]})})})})]}),(0,m.jsx)("div",{className:"container container-two",children:(0,m.jsx)("div",{className:"breadcrumb-tab flx-wrap align-items-start gap-lg-4 gap-2",children:(0,m.jsxs)("ul",{className:"nav tab-bordered nav-pills",id:"pills-tab",role:"tablist",children:[(0,m.jsx)("li",{className:"nav-item",role:"presentation",children:(0,m.jsx)("button",{id:"pills-product-details-tab","data-bs-toggle":"pill","data-bs-target":"#pills-product-details",type:"button",role:"tab","aria-controls":"pills-product-details","aria-selected":"true",className:"nav-link ".concat("details"===v?"active":""),onClick:()=>h("details"),children:"Package Details"})}),(0,m.jsx)("li",{className:"nav-item",role:"presentation",children:(0,m.jsx)("button",{id:"pills-rating-tab","data-bs-toggle":"pill","data-bs-target":"#pills-rating",type:"button",role:"tab","aria-controls":"pills-rating","aria-selected":"false",style:{fontSize:"small"},className:"nav-link ".concat("ratings"===v?"active":""),onClick:()=>h("ratings"),children:"Rating & Review"})})]})})})]})},v=()=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(t.A,{}),(0,m.jsx)(l.A,{}),(0,m.jsx)(u,{}),(0,m.jsx)(x,{}),(0,m.jsx)(n.A,{})]})},6768:()=>{},8e3:(e,a,i)=>{i.d(a,{En:()=>l,ak:()=>t,fF:()=>s});const s=e=>{const a=(new Date-new Date(e))/1e3,i=[{name:"year",seconds:31536e3},{name:"month",seconds:2592e3},{name:"day",seconds:86400},{name:"hour",seconds:3600},{name:"minute",seconds:60},{name:"second",seconds:1}];for(let s of i){const e=Math.floor(a/s.seconds);if(e>=1)return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(-e,s.name)}return"just now"};function t(){const e=new Date;e.setHours(0,0,0,0);const a=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(s)}function l(e){const a=new Date(e),i=new Date;return i.setHours(0,0,0,0),a>=i}}}]);
//# sourceMappingURL=5944.81cb3821.chunk.js.map