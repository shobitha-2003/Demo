{"version":3,"file":"static/js/589.8f45058a.chunk.js","mappings":"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","sources":["components/LoginCentre.jsx"],"sourcesContent":["import ThemeToggle from \"./ThemeToggle\";\r\nimport { useState, useRef } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\nimport \"./CSS/PatientLogin.css\";\r\n\r\nconst LoginCentre = () => {\r\n  const navigate = useNavigate();\r\n  const [identifier, setIdentifier] = useState(\"\"); // Email or Phone\r\n  const [password, setPassword] = useState(\"\");\r\n  const [role, setRole] = useState(\"centre\"); // 'admin', 'centre', 'user'\r\n  const [error, setError] = useState(\"\");\r\n  const [recaptchaToken, setRecaptchaToken] = useState(\"\");\r\n  const recaptchaRef = useRef();\r\n\r\n  const RECAPTCHA_SITE_KEY = process.env.REACT_APP_RECAPTCHA_SITE_KEY;\r\n\r\n  // Handle reCAPTCHA change\r\n  const handleRecaptchaChange = (token) => {\r\n    setRecaptchaToken(token);\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!role || !identifier || !password) {\r\n      setError(\"All fields are required.\");\r\n      return;\r\n    }\r\n\r\n    if (!recaptchaToken) {\r\n      setError(\"Please complete the reCAPTCHA verification.\");\r\n      return;\r\n    }\r\n\r\n    let apiUrl = \"\";\r\n    if (role === \"centre\") {\r\n      apiUrl = `${process.env.REACT_APP_BACKEND_URL}/api/centres/loginCentre`;\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(apiUrl, {\r\n        identifier,\r\n        password,\r\n        recaptchaToken, // Include reCAPTCHA token\r\n      });\r\n\r\n      const token = res?.data?.token;\r\n      if (!token) {\r\n        setError(\"No token received from server.\");\r\n        setRecaptchaToken(\"\");\r\n        recaptchaRef.current.reset();\r\n        return;\r\n      }\r\n\r\n      localStorage.setItem(`${role}Token`, token);\r\n      \r\n      if (role === \"centre\") {\r\n         localStorage.setItem(\"centre\", JSON.stringify(res.data?.centre));\r\n        localStorage.setItem(\"centreToken\", token);\r\n        localStorage.setItem(\"centreId\", res.data.centre.id);\r\n        // localStorage.setItem(\"centreId\", res.data?.centre?.id);\r\n        navigate(\"/centre-dashboard\");\r\n      }\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || \"Login failed.\");\r\n      setRecaptchaToken(\"\");\r\n      recaptchaRef.current.reset();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"account d-flex\" style={{height:\"100vh\"}}>\r\n        <div className=\"account__left d-md-flex d-none flx-align section-bg position-relative z-index-1 overflow-hidden\">\r\n          <div className=\"account-thumb\">\r\n            <img src=\"assets/images/services/Login.png\" alt=\"\" />\r\n            <div className=\"statistics animation bg-main text-center\">\r\n              <span className=\"statistics__text text-white font-14\">\r\n                Verified <br />\r\n                Healthcare <br />\r\n                Centre{\" \"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"account__right padding-y-120 flx-align\" style={{marginTop:\"-30px\"}}>\r\n          <div className=\"account-content \">\r\n            <Link to=\"/\" className=\"logo\">\r\n              <img\r\n                src=\"assets/images/logo/BHARATLOGO-01.png\"\r\n                alt=\"\"\r\n                className=\"white-version\"\r\n              />\r\n              <img\r\n                src=\"assets/images/logo/BHARATLOGO-01.png\"\r\n                alt=\"\"\r\n                className=\"dark-version\"\r\n              />\r\n            </Link>\r\n\r\n            <div style={{display:\"flex\",gap:\"15px\",marginBottom:\"10px\", marginTop:\"10px\",justifyContent:\"center\"}}>\r\n              {/* <Link to=\"/login\" >\r\n                <button style={{\r\n                  backgroundColor: \"rgb(219 213 255)\", \r\n                  color: \"rgb(94, 54, 242)\",\r\n                  borderRadius:\"5px\",\r\n                  padding:\"10px 20px\"\r\n                }} className=\"loginButton\">\r\n                  Login as a Patient\r\n                </button>\r\n              </Link> */}\r\n              <Link to=\"/centre-login\">\r\n              <button style={{\r\n                backgroundColor: \"#5E36F2\",\r\n                color:\"white\",\r\n                borderRadius:\"5px\",\r\n                padding:\"10px 20px\"\r\n              }} className=\"loginButton\">\r\n                Login as a Healthcare Centre\r\n              </button>\r\n              </Link>\r\n            </div>\r\n\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            <form onSubmit={handleLogin}>\r\n              <div className=\"row gy-4\">\r\n                <div className=\"col-12\">\r\n                  <label\r\n                    htmlFor=\"email\"\r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\" \r\n                    style={{fontFamily:\"inter\"}}\r\n                  >\r\n                    Email or Phone\r\n                  </label>\r\n                  <div className=\"position-relative\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"common-input common-input--bg common-input--withIcon\"\r\n                      id=\"email\"\r\n                      placeholder=\"Enter email or phone\"\r\n                      value={identifier}\r\n                      onChange={(e) => setIdentifier(e.target.value)}\r\n                      required\r\n                    />\r\n                    <span className=\"input-icon\">\r\n                      <img src=\"assets/images/icons/envelope-icon.svg\" alt=\"\" />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <label\r\n                    htmlFor=\"your-password\"\r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\" \r\n                    style={{fontFamily:\"inter\"}}\r\n                  >\r\n                    Password\r\n                  </label>\r\n                  <div className=\"position-relative\">\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"common-input common-input--bg common-input--withIcon\"\r\n                      id=\"your-password\"\r\n                      placeholder=\"Enter Your Password\"\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      required\r\n                    />\r\n                    <span\r\n                      className=\"input-icon toggle-password cursor-pointer\"\r\n                      id=\"#your-password\"\r\n                    >\r\n                      <img src=\"assets/images/icons/lock-icon.svg\" alt=\"\" />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* reCAPTCHA and Forgot Password in same line */}\r\n               <div className=\"col-12\">\r\n                                 <div className=\"d-flex justify-content-center\">\r\n                                   <ReCAPTCHA\r\n                                     ref={recaptchaRef}\r\n                                     sitekey={RECAPTCHA_SITE_KEY}\r\n                                     onChange={handleRecaptchaChange}\r\n                                     onExpired={() => setRecaptchaToken(\"\")}\r\n                                     onErrored={() => setRecaptchaToken(\"\")}\r\n                                   />\r\n                                 </div>\r\n                               </div>\r\n               \r\n                               <div className=\"col-12\">\r\n                                 <div className=\"flx-between gap-1\">\r\n                                   <Link\r\n                                     to=\"/forgot-password\"\r\n                                     className=\"forgot-password text-decoration-underline text-main text-poppins font-14\"\r\n                                   >\r\n                                     Forgot password?\r\n                                   </Link>\r\n                                 </div>\r\n                               </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-main btn-lg w-100 pill\"\r\n                    disabled={!recaptchaToken}\r\n                  >\r\n                    Sign In\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    style={{\r\n                      backgroundColor: \"rgb(219 213 255)\",\r\n                      color:\"rgb(94, 54, 242)\",\r\n                      borderRadius:\"5px\",\r\n                      padding:\"10px 20px\",\r\n                      height:\"60px\"\r\n                    }}\r\n                    onClick={() => navigate(\"/\")}\r\n                    className=\"btn-lg w-100 pill\"\r\n                  >\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    Back to Home\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"col-sm-12 mb-0\">\r\n                  <div className=\"have-account\">\r\n                    <p className=\"text font-14\">\r\n                      Not Registered?{\" \"}\r\n                      <Link\r\n                        className=\"link text-main text-decoration-underline fw-500\"\r\n                        to=\"/centre-register\"\r\n                      >\r\n                        Register\r\n                      </Link>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginCentre;"],"names":["LoginCentre","navigate","useNavigate","identifier","setIdentifier","useState","password","setPassword","role","setRole","error","setError","recaptchaToken","setRecaptchaToken","recaptchaRef","useRef","_jsx","_Fragment","children","_jsxs","className","style","height","src","alt","marginTop","Link","to","display","gap","marginBottom","justifyContent","backgroundColor","color","borderRadius","padding","onSubmit","async","e","preventDefault","apiUrl","concat","process","_res$data","res","axios","post","token","data","current","reset","_res$data2","localStorage","setItem","JSON","stringify","centre","id","err","_err$response","_err$response$data","response","message","htmlFor","fontFamily","type","placeholder","value","onChange","target","required","ReCAPTCHA","ref","sitekey","onExpired","onErrored","disabled","onClick"],"sourceRoot":""}