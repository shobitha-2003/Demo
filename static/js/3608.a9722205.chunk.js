"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[3608],{2642:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(9379),l=a(5043),n=a(3638),i=a.n(n),c=a(579);const r=e=>e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),o=e=>{let{value:t,onChange:a,colClass:n="col-sm-3"}=e;const[o,d]=(0,l.useState)([]),[m,p]=(0,l.useState)(""),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[a,s]=(0,l.useState)(e);return(0,l.useEffect)(()=>{const a=setTimeout(()=>s(e),t);return()=>clearTimeout(a)},[e,t]),a}(m,200);(0,l.useEffect)(()=>{(async()=>{try{const e=await fetch("/Cities.json");if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();d(t)}catch(e){console.error("Failed to load places:",e)}})()},[]);const x=(0,l.useMemo)(()=>h?o.filter(e=>e.toLowerCase().includes(h.toLowerCase())).slice(0,500).map(e=>({value:e,label:r(e)})):o.slice(0,500).map(e=>({value:e,label:r(e)})),[o,h]),u=(0,l.useMemo)(()=>t?{value:t,label:r(t)}:null,[t]);return(0,c.jsxs)("div",{className:"".concat(n," col-xs-6"),children:[(0,c.jsx)("label",{className:"form-label mb-2 font-16",children:"Search By District"}),(0,c.jsx)(i(),{options:x,value:u,onChange:e=>a(e?e.value:""),onInputChange:p,isClearable:!0,isSearchable:!0,placeholder:"Search district...",menuPlacement:"auto",windowThreshold:100,menuPortalTarget:document.body,styles:{control:e=>(0,s.A)((0,s.A)({},e),{},{minHeight:"55px",zIndex:5}),menuPortal:e=>(0,s.A)((0,s.A)({},e),{},{zIndex:99})}})]})}},3608:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(5043),l=a(6165),n=a(7458),i=a(2784),c=a(579);const r=()=>(0,c.jsxs)("section",{className:"breadcrumb breadcrumb-one padding-y-60 section-bg position-relative z-index-1 overflow-hidden",children:[(0,c.jsx)("img",{src:"/assets/images/gradients/Bg2.webp",alt:"",className:"bg--gradient"}),(0,c.jsx)("div",{className:"container container-two",children:(0,c.jsx)("div",{className:"row justify-content-center",children:(0,c.jsx)("div",{className:"col-lg-7",children:(0,c.jsxs)("div",{className:"breadcrumb-one-content",children:[(0,c.jsx)("h3",{className:"breadcrumb-one-content__title text-center mb-3 text-capitalize",children:"Explore Healthcare Centres Near You"}),(0,c.jsx)("p",{className:"breadcrumb-one-content__desc text-center text-black-three",children:"Browse a complete list of verified hospitals, clinics, and diagnostic labs in your area. Find the right healthcare provider, compare services, and book appointments with ease."})]})})})})]});var o=a(9379),d=a(9722),m=a(9981),p=a(2642),h=a(9262);const x=()=>{const[e,t]=(0,s.useState)("grid-view"),[a,l]=(0,s.useState)(!1),[n,i]=(0,s.useState)(""),[r,x]=(0,s.useState)(""),[u,b]=(0,s.useState)([]),[f,g]=(0,s.useState)(null),[j,v]=(0,s.useState)(!1),[y,N]=(0,s.useState)(""),[w,_]=(0,s.useState)([]),[C,S]=(0,s.useState)(1),[k,A]=(0,s.useState)([]),[T,L]=(0,s.useState)(""),E=(0,m.zy)(),[P,F]=(0,s.useState)(null),H=(0,s.useMemo)(()=>{const e=9*C,t=e-9;return u.slice(t,e)},[u,C,9]),z=(0,s.useMemo)(()=>Math.ceil(u.length/9),[u.length,9]),D=((0,s.useCallback)(e=>{t(e),S(1)},[]),(0,s.useCallback)(()=>{l(!a)},[a])),M=(0,s.useCallback)(e=>{S(e)},[]),I=async()=>{v(!0);try{const e=await d.A.get("".concat("https://api.4ceps.com","/api/centres/"));200===e.status&&(b(e.data),N(""))}catch(e){console.error("Error fetching centres",e.message),N("Failed to fetch centres. Please try again.")}finally{v(!1)}};(0,s.useEffect)(()=>{f?(async e=>{try{const t=await d.A.get("".concat("https://api.4ceps.com","/api/places/by-district"),{params:{district:e}});console.log("Locality by district:",t.data),A(t.data.offices||[])}catch(t){console.error("Failed to get Locality by district",t),A([])}})(f):A([])},[f]);(0,s.useEffect)(()=>{I(),(async()=>{try{const e=await d.A.get("".concat("https://api.4ceps.com","/api/centres/centreTypeStats"));_(e.data)}catch(e){console.error("Failed to get center stats",e)}})()},[]),(0,s.useEffect)(()=>{const e=new URLSearchParams(E.search);x(e.get("type")||"")},[E.search]),(0,s.useEffect)(()=>{P&&clearTimeout(P);const e=setTimeout(()=>{n||r?(async()=>{v(!0);try{const e=new URLSearchParams;n&&e.append("name",n),r&&e.append("type",r);const t=await fetch("".concat("https://api.4ceps.com","/api/centres/search?").concat(e)),a=await t.json(),s=Array.isArray(a)?a:a.centres||[];b(s),N(0===s.length?"No centres found for your search.":"")}catch(e){console.error("Error fetching centres:",e),b([]),N("Failed to fetch centres. Please try again.")}finally{v(!1)}})():f||I()},500);return F(e),()=>clearTimeout(e)},[n,r]),(0,s.useEffect)(()=>{(null!==f||T)&&async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";v(!0);try{const a=new URLSearchParams;e&&a.append("place",e),t&&a.append("locality",t);const s=a.toString(),l="".concat("https://api.4ceps.com","/api/centres/searchByLocation").concat(s?"?".concat(s):""),n=await fetch(l),i=await n.json();b(i),N(0===i.length?"No centres found in this location.":"")}catch(a){console.error("Error fetching centres:",a),N("Failed to fetch centres. Please try again.")}finally{v(!1)}}(f,T)},[f,T]),(0,s.useEffect)(()=>{S(1)},[f,n,r,T]);const B=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},R=e=>{M(e)};(0,s.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[C]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("style",{jsx:!0,children:"\n        .filter-sidebar-list__item:hover .filter-sidebar-list__text,\n        .filter-sidebar-list__item.active-filter .filter-sidebar-list__text {\n          color: hsl(var(--main));\n        }\n\n        .filter-sidebar-list__item:hover .qty,\n        .filter-sidebar-list__item.active-filter .qty {\n          color: hsl(var(--main));\n        }\n\n        .filter-sidebar-list__item {\n          cursor: pointer;\n          transition: all 0.3s ease;\n          padding: 8px 12px;\n          border-radius: 4px;\n          margin-bottom: 4px;\n        }\n      "}),(0,c.jsxs)("section",{style:{marginTop:"-30px"},className:"all-product padding-y-120 ".concat("list-view"===e?"list-view":""),children:[(0,c.jsx)("div",{className:"container container-two",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-lg-12",children:[(0,c.jsx)("div",{className:"filter-tab d-flex justify-content-between align-items-center flex-wrap gap-3",children:(0,c.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"search-box d-flex align-items-center",style:{width:"410px"},children:[(0,c.jsx)("input",{type:"text",className:"common-input common-input--lg pill shadow-sm",placeholder:"Search Hospitals, Clinics & Labs ...",value:n,onChange:e=>{i(e.target.value),g(null)}}),(0,c.jsx)("button",{type:"button",style:{backgroundColor:"#000424",height:"47px",border:"none",borderRadius:"0 999px 999px 0",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 16px",marginLeft:"-10px",cursor:"pointer"},children:(0,c.jsx)("img",{src:"assets/images/icons/search.svg",alt:"Search",style:{width:"20px",height:"20px"}})})]})}),(0,c.jsx)("form",{onSubmit:e=>e.preventDefault(),className:"filter-form  d-block",children:(0,c.jsx)("div",{className:"row gy-3"})})]}),(0,c.jsxs)("div",{className:"row gy-3",children:[(0,c.jsx)(p.A,{value:f,onChange:e=>{g(e),L(""),i("")},colClass:"col-sm-4"}),(0,c.jsxs)("div",{className:"col-sm-4 col-xs-6",children:[(0,c.jsx)("div",{className:"flx-between gap-1",children:(0,c.jsx)("label",{htmlFor:"sortLocality",className:"form-label font-16",children:"Sort by Locality"})}),(0,c.jsx)("div",{className:"position-relative",children:(0,c.jsx)(h.default,{options:k.length>0?k.map(e=>({value:e.officename,label:e.officename})):[{value:"",label:"No Places available",isDisabled:!0}],value:T?{value:T,label:T}:null,onChange:e=>L((null===e||void 0===e?void 0:e.value)||""),placeholder:k.length>0?"Select a locality":"No Locality",isClearable:k.length>0,isDisabled:0===k.length,menuPortalTarget:document.body,styles:{control:(e,t)=>(0,o.A)((0,o.A)({},e),{},{border:"1px solid #dcdcdc",borderRadius:"4px",minHeight:"58px",boxShadow:"none","&:hover":{borderColor:"#dcdcdc"},backgroundColor:t.isDisabled?"#f8f9fa":"#fff"}),valueContainer:e=>(0,o.A)((0,o.A)({},e),{},{padding:"0 8px"}),placeholder:e=>(0,o.A)((0,o.A)({},e),{},{color:0===k.length?"#6c757d":"#6c757d !important",fontSize:"16px",fontWeight:"400",opacity:1}),menuPortal:e=>(0,o.A)((0,o.A)({},e),{},{zIndex:9999}),menuList:e=>(0,o.A)((0,o.A)({},e),{},{maxHeight:"250px",overflowY:"auto"}),indicatorSeparator:()=>({display:"none"}),option:(e,t)=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:t.isDisabled?"#f8f9fa":e.backgroundColor,color:t.isDisabled?"#6c757d":e.color,cursor:t.isDisabled?"not-allowed":"pointer"})}})})]}),(0,c.jsxs)("div",{className:"col-12 mobile-centre-type-dropdown",children:[(0,c.jsx)("div",{className:"flx-between gap-1",children:(0,c.jsx)("label",{htmlFor:"mobileCentreType",className:"form-label font-16",children:"Healthcare Centre Type"})}),(0,c.jsx)("div",{className:"position-relative",children:(0,c.jsxs)("select",{id:"mobileCentreType",className:"common-input border-gray-five",value:r,onChange:e=>{x(e.target.value)},children:[(0,c.jsx)("option",{value:"",children:"All Healthcare Centres"}),null===w||void 0===w?void 0:w.map((e,t)=>(0,c.jsx)("option",{value:e.centreType,children:e.centreType},t))]})})]})]}),(0,c.jsx)("div",{className:"col-xl-3 col-lg-4",style:{marginTop:"25px"},children:(0,c.jsxs)("div",{className:"filter-sidebar ".concat(a&&"show"),children:[(0,c.jsx)("button",{type:"button",className:"filter-sidebar__close p-2 position-absolute end-0 top-0 z-index-1 text-body hover-text-main font-20 d-lg-none d-block",onClick:D}),(0,c.jsxs)("div",{className:"filter-sidebar__item",children:[(0,c.jsx)("button",{type:"button",className:"filter-sidebar__button font-16 text-capitalize fw-500",children:"Healthcare Centre Type"}),(0,c.jsx)("div",{className:"filter-sidebar__content",children:(0,c.jsx)("ul",{className:"filter-sidebar-list",children:w.map((e,t)=>(0,c.jsx)("li",{className:"filter-sidebar-list__item ".concat(r===e.centreType||"All Centres"===e.centreType&&""===r?"active-filter":""),onClick:()=>"All Centres"===e.centreType?x(""):x(e.centreType),children:(0,c.jsxs)("span",{className:"filter-sidebar-list__text",children:[e.centreType," ",(0,c.jsx)("span",{className:"qty",children:e.count})]})},t))})})]})]})}),(0,c.jsx)("div",{className:"col-xl-9 col-lg-8",style:{marginTop:"25px"},children:(0,c.jsx)("div",{className:"tab-content",id:"pills-tabContent",children:(0,c.jsxs)("div",{className:"tab-pane fade show active",id:"pills-centers",role:"tabpanel","aria-labelledby":"pills-centers-tab",tabIndex:0,children:[j&&(0,c.jsxs)("div",{className:"text-center py-5",children:[(0,c.jsx)("div",{className:"spinner-border text-main",role:"status",children:(0,c.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,c.jsx)("p",{className:"mt-2 text-muted",children:"Loading centres..."})]}),!j&&(0,c.jsx)("div",{className:"row gy-4 list-grid-wrapper",children:H.length>0?H.map((e,t)=>(0,c.jsx)("div",{className:"col-xl-4 col-sm-6",children:(0,c.jsxs)("div",{className:"product-item section-bg",children:[(0,c.jsx)("div",{className:"product-item__thumb d-flex",style:{height:"180px"},children:(0,c.jsx)(m.N_,{to:"/profile/".concat(e._id),className:"link w-100",children:(0,c.jsx)("img",{src:e.logo,alt:"CenterImage",className:"cover-img",style:{height:"180px",objectFit:"fill"}})})}),(0,c.jsxs)("div",{className:"product-item__content",children:[(0,c.jsx)("h6",{className:"product-item__title",children:(0,c.jsx)(m.N_,{to:"/profile/".concat(e._id),className:"link",children:B(e.centreName)})}),(0,c.jsx)("div",{className:"product-item__info flx-between gap-2",children:(0,c.jsx)("div",{className:"flx-align gap-2",children:(0,c.jsxs)("h6",{className:"product-item__price mb-0",children:[e.totalServices||0," ",(0,c.jsx)("span",{children:"Services"})]})})}),(0,c.jsx)("div",{className:"product-item__bottom flx-between gap-2",children:(0,c.jsx)(m.N_,{to:"/profile/".concat(e._id),className:"btn btn-outline-light btn-sm pill",children:"Explore & Book Appointment"})})]})]})},e._id)):(0,c.jsxs)("div",{className:"col-12 text-center py-5",children:[(0,c.jsx)("h5",{className:"mt-3 text-muted",children:"No Healthcare centres found"}),(0,c.jsx)("p",{className:"text-muted",children:"Try adjusting your search or filters"}),(0,c.jsx)("button",{className:"btn btn-main mt-2",onClick:()=>{i(""),x(""),g(null),L(""),S(1),I()},children:"Clear All Filters"})]})}),!j&&z>1&&(0,c.jsx)("nav",{"aria-label":"Page navigation example",children:(0,c.jsx)("ul",{className:"pagination pagination-sm common-pagination justify-content-center",children:(()=>{const e=[];let t=Math.max(1,C-Math.floor(2)),a=t+4-1;a>z&&(a=z,t=Math.max(1,a-4+1)),e.push((0,c.jsx)("li",{className:"page-item ".concat(1===C?" disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>1!==C&&R(1),children:"First"})},"first")),e.push((0,c.jsx)("li",{className:"page-item ".concat(1===C?"disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>C>1&&R(C-1),disabled:1===C,children:"Prev"})},"prev"));for(let s=t;s<=a;s++)e.push((0,c.jsx)("li",{className:"page-item ".concat(C===s?"active":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>R(s),children:s})},s));return e.push((0,c.jsx)("li",{className:"page-item ".concat(C===z?"disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>C<z&&R(C+1),disabled:C===z,children:"Next"})},"next")),e.push((0,c.jsx)("li",{className:"page-item ".concat(C===z?"disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>R(z),children:"Last"})},"last")),e})()})})]})})})]})}),(0,c.jsx)("style",{children:"/* Show mobile dropdown only on screens less than 990px */\n.mobile-centre-type-dropdown {\n  display: none;\n}\n\n@media (max-width: 989px) {\n  .mobile-centre-type-dropdown {\n    display: block;\n  }\n}\n\n/* Hide desktop sidebar on screens less than 990px */\n@media (max-width: 989px) {\n  .filter-sidebar {\n    display: none !important;\n  }\n}"})]})]})},u=()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.A,{}),(0,c.jsx)(n.A,{}),(0,c.jsx)(r,{}),(0,c.jsx)(x,{}),(0,c.jsx)(i.A,{})]})}}]);
//# sourceMappingURL=3608.a9722205.chunk.js.map