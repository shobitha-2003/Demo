{"version":3,"file":"static/js/8244.04957feb.chunk.js","mappings":"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","sources":["components/Login.jsx","pages/LoginPage.jsx","components/Progress.jsx"],"sourcesContent":["import ThemeToggle from \"./ThemeToggle\";\r\nimport { useState, useRef } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\nimport \"./CSS/PatientLogin.css\";\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const [identifier, setIdentifier] = useState(\"\"); // Email or Phone\r\n  const [password, setPassword] = useState(\"\");\r\n  const [role, setRole] = useState(\"user\"); // 'admin', 'centre', 'user'\r\n  const [error, setError] = useState(\"\");\r\n  const [recaptchaToken, setRecaptchaToken] = useState(\"\");\r\n  const recaptchaRef = useRef();\r\n\r\n  const RECAPTCHA_SITE_KEY = process.env.REACT_APP_RECAPTCHA_SITE_KEY;\r\n\r\n  // Handle reCAPTCHA change\r\n  const handleRecaptchaChange = (token) => {\r\n    setRecaptchaToken(token);\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!role || !identifier || !password) {\r\n      setError(\"All fields are required.\");\r\n      return;\r\n    }\r\n\r\n    if (!recaptchaToken) {\r\n      setError(\"Please complete the reCAPTCHA verification.\");\r\n      return;\r\n    }\r\n\r\n    let apiUrl = \"\";\r\n    if (role === \"user\") {\r\n      apiUrl = `${process.env.REACT_APP_BACKEND_URL}/api/users/login`;\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(apiUrl, {\r\n        identifier,\r\n        password,\r\n        recaptchaToken, // Include reCAPTCHA token\r\n      });\r\n\r\n      const token = res?.data?.token;\r\n      if (!token) {\r\n        setError(\"No token received from server.\");\r\n        setRecaptchaToken(\"\");\r\n        recaptchaRef.current.reset();\r\n        return;\r\n      }\r\n\r\n      localStorage.setItem(\"token\", token);\r\n\r\n      if (role === \"user\") {\r\n        localStorage.setItem(\"user\", JSON.stringify(res.data?.user));\r\n        localStorage.setItem(\"userToken\", token);\r\n        localStorage.setItem(\"userId\", res.data.user.id);\r\n\r\n        navigate(\"/user-dashboard\");\r\n      }\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || \"Login failed.\");\r\n      setRecaptchaToken(\"\");\r\n      recaptchaRef.current.reset();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* ================================== Account Page Start =========================== */}\r\n      <section className=\"account d-flex\" style={{ height: \"100vh\" }}>\r\n        <div className=\"account__left d-md-flex d-none flx-align section-bg position-relative z-index-1 overflow-hidden\">\r\n          <div className=\"account-thumb\">\r\n            <img src=\"assets/images/services/Login.png\" alt=\"\" />\r\n            <div className=\"statistics animation bg-main text-center\">\r\n              <span className=\"statistics__text text-white font-14\">\r\n                Verified <br />\r\n                Healthcare <br />\r\n                Centre{\" \"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"account__right padding-y-120 flx-align\"\r\n          style={{ marginTop: \"-30px\" }}\r\n        >\r\n          <div className=\"account-content \">\r\n            <Link to=\"/\" className=\"logo\">\r\n              <img\r\n                src=\"assets/images/logo/BHARATLOGO-01.png\"\r\n                alt=\"\"\r\n                className=\"white-version\"\r\n              />\r\n              <img\r\n                src=\"assets/images/logo/BHARATLOGO-01.png\"\r\n                alt=\"\"\r\n                className=\"dark-version\"\r\n              />\r\n            </Link>\r\n\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                gap: \"15px\",\r\n                marginBottom: \"10px\",\r\n                paddingTop: \"-20px\",\r\n                marginTop: \"10px\",\r\n                justifyContent:\"center\"\r\n              }}\r\n            >\r\n              <button\r\n                className=\"loginButton\"\r\n                style={{\r\n                  backgroundColor: \"#5E36F2\",\r\n                  color: \"white\",\r\n                  borderRadius: \"5px\",\r\n                  padding: \"10px 20px\",\r\n                }}\r\n              >\r\n                Login as a Patient\r\n              </button>\r\n              {/* <Link to=\"/centre-login\">\r\n                <button\r\n                  className=\"loginButton\"\r\n                  style={{\r\n                    backgroundColor: \"rgb(219 213 255)\",\r\n                    color: \"rgb(94, 54, 242)\",\r\n                    borderRadius: \"5px\",\r\n                    padding: \"10px 20px\",\r\n                  }}\r\n                >\r\n                  Login as a Healthcare Centre\r\n                </button>\r\n              </Link> */}\r\n            </div>\r\n\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            <form onSubmit={handleLogin}>\r\n              <div className=\"row gy-4\">\r\n                <div className=\"col-12\">\r\n                  <label\r\n                    htmlFor=\"email\"\r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\"\r\n                    style={{ fontFamily: \"inter\" }}\r\n                  >\r\n                    Email or Phone\r\n                  </label>\r\n\r\n                  <div className=\"position-relative\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"common-input common-input--bg common-input--withIcon\"\r\n                      id=\"email\"\r\n                      placeholder=\"Enter email or phone\"\r\n                      value={identifier}\r\n                      onChange={(e) => setIdentifier(e.target.value)}\r\n                      required\r\n                    />\r\n\r\n                    <span className=\"input-icon\">\r\n                      <img src=\"assets/images/icons/envelope-icon.svg\" alt=\"\" />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <label\r\n                    htmlFor=\"your-password\"\r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\"\r\n                    style={{ fontFamily: \"inter\" }}\r\n                  >\r\n                    Password\r\n                  </label>\r\n\r\n                  <div className=\"position-relative\">\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"common-input common-input--bg common-input--withIcon\"\r\n                      id=\"your-password\"\r\n                      placeholder=\"Enter Your Password\"\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      required\r\n                    />\r\n                    <span\r\n                      className=\"input-icon toggle-password cursor-pointer\"\r\n                      id=\"#your-password\"\r\n                    >\r\n                      <img src=\"assets/images/icons/lock-icon.svg\" alt=\"\" />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* reCAPTCHA Section */}\r\n                <div className=\"col-12\">\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <ReCAPTCHA\r\n                      ref={recaptchaRef}\r\n                      sitekey={RECAPTCHA_SITE_KEY}\r\n                      onChange={handleRecaptchaChange}\r\n                      onExpired={() => setRecaptchaToken(\"\")}\r\n                      onErrored={() => setRecaptchaToken(\"\")}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <div className=\"flx-between gap-1\">\r\n                    <Link\r\n                      to=\"/forgot-password\"\r\n                      className=\"forgot-password text-decoration-underline text-main text-poppins font-14\"\r\n                    >\r\n                      Forgot password?\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-main btn-lg w-100 pill\"\r\n                    disabled={!recaptchaToken}\r\n                  >\r\n                    Sign In\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"col-12 \">\r\n                  <button\r\n                    type=\"button\"\r\n                    style={{\r\n                      backgroundColor: \"rgb(219 213 255)\",\r\n                      color: \"#7236f2\",\r\n                      borderRadius: \"5px\",\r\n                      padding: \"10px 20px\",\r\n                      height: \"60px\",\r\n                    }}\r\n                    onClick={() => navigate(\"/\")}\r\n                    className=\"btn-lg w-100 pill\"\r\n                  >\r\n                    <i className=\"fa fa-arrow-left \"></i> Back to Home\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"col-sm-12 mb-0\">\r\n                  <div className=\"have-account\">\r\n                    <p className=\"text font-14\">\r\n                      Not Registered?{\" \"}\r\n                      <Link\r\n                        className=\"link text-main text-decoration-underline fw-500\"\r\n                        to=\"/user-register\"\r\n                      >\r\n                        Register\r\n                      </Link>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {/* ================================== Account Page End =========================== */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;","import React from \"react\";\r\nimport Progress from \"../components/Progress\";\r\nimport Login from \"../components/Login\";\r\nconst LoginPage = () => {\r\n\r\n  return (\r\n\r\n    <>\r\n      {/* Progress */}\r\n      <Progress />\r\n\r\n      {/* Login */}\r\n      <Login />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","\r\nconst Progress = () => {\r\n  return (\r\n    <>\r\n      {/*==================== Overlay Start ====================*/}\r\n      <div className=\"overlay\" />\r\n\r\n      <div className=\"side-overlay\" />\r\n\r\n      <div className=\"progress-wrap\">\r\n        <svg\r\n          className=\"progress-circle svg-content\"\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          viewBox=\"-1 -1 102 102\"\r\n        >\r\n          <path d=\"M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98\" />\r\n        </svg>\r\n      </div>\r\n      {/* ==================== Scroll to Top End Here ==================== */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Progress;\r\n"],"names":["Login","navigate","useNavigate","identifier","setIdentifier","useState","password","setPassword","role","setRole","error","setError","recaptchaToken","setRecaptchaToken","recaptchaRef","useRef","_jsx","_Fragment","children","_jsxs","className","style","height","src","alt","marginTop","Link","to","display","gap","marginBottom","paddingTop","justifyContent","backgroundColor","color","borderRadius","padding","onSubmit","async","e","preventDefault","apiUrl","concat","process","_res$data","res","axios","post","token","data","current","reset","_res$data2","localStorage","setItem","JSON","stringify","user","id","err","_err$response","_err$response$data","response","message","htmlFor","fontFamily","type","placeholder","value","onChange","target","required","ReCAPTCHA","ref","sitekey","onExpired","onErrored","disabled","onClick","LoginPage","Progress","width","viewBox","d"],"sourceRoot":""}