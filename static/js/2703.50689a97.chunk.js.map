{"version":3,"file":"static/js/2703.50689a97.chunk.js","mappings":"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","sources":["components/LoginAdmin.jsx"],"sourcesContent":["import ThemeToggle from \"./ThemeToggle\";\r\nimport { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\n\r\n\r\nconst LoginAdmin = () => {\r\n  const navigate = useNavigate();\r\n  const [identifier, setIdentifier] = useState(\"\"); // Email or Phone\r\n  const [password, setPassword] = useState(\"\");\r\n  const [role, setRole] = useState(\"admin\"); // 'admin', 'centre', 'user'\r\n  const [error, setError] = useState(\"\");\r\nconst [recaptchaToken, setRecaptchaToken] = useState(\"\");\r\n\r\n\r\n const RECAPTCHA_SITE_KEY = process.env.REACT_APP_RECAPTCHA_SITE_KEY;\r\n\r\n const handleRecaptchaChange = (token) => {\r\n    setRecaptchaToken(token);\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!role || !identifier || !password) {\r\n      setError(\"All fields are required.\");\r\n      return;\r\n    }\r\n\r\n       if (!recaptchaToken) {\r\n      setError(\"Please complete the reCAPTCHA verification.\");\r\n      return;\r\n    }\r\n\r\n\r\n    let apiUrl = \"\";\r\n    if (role === \"admin\") {\r\n      apiUrl = `${process.env.REACT_APP_BACKEND_URL}/api/admin/adminLogin`;\r\n    } \r\n    // else if (role === \"centre\") {\r\n    //   apiUrl = `${process.env.REACT_APP_BACKEND_URL}/api/centres/loginCentre`;\r\n    // } \r\n    // else if (role === \"user\") {\r\n    //   apiUrl = `${process.env.REACT_APP_BACKEND_URL}/api/users/login`;\r\n    // }\r\n\r\n    try {\r\n      const res = await axios.post(apiUrl, {\r\n        identifier,\r\n        password,\r\n        recaptchaToken,\r\n      });\r\n\r\n      const token = res?.data?.token;\r\n      if (!token) {\r\n        setError(\"No token received from server.\");\r\n        setRecaptchaToken(\"\");\r\n        return;\r\n      }\r\n\r\n      localStorage.setItem(`${role}Token`, token);\r\n      // Set ID based on role\r\n      if (role === \"admin\") {\r\n        localStorage.setItem(\"adminId\", res.data?.admin?.id);\r\n        navigate(\"/admin-dashboard\");\r\n      } \r\n    // else\r\n    //      if (role === \"centre\") {\r\n    //     localStorage.setItem(\"centreId\", res.data?.centre?.id);\r\n    //     navigate(\"/centre-dashboard\");\r\n    //   } \r\n    //   else if (role === \"user\") {\r\n    //     localStorage.setItem(\"userId\", res.data?.user?.id);\r\n    //     localStorage.setItem(\"userDetails\",JSON.stringify(res.data?.user));\r\n    //     navigate(\"/user-dashboard\");\r\n    //   }\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || \"Login failed.\");\r\n      setRecaptchaToken(\"\");\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      {/* ================================== Account Page Start =========================== */}\r\n      <section className=\"account d-flex\" style={{height:\"100vh\"}}>\r\n        <div className=\"account__left d-md-flex d-none flx-align section-bg position-relative z-index-1 overflow-hidden\">\r\n          <div className=\"account-thumb\">\r\n            <img src=\"assets/images/services/Login.png\" alt=\"\" />\r\n            <div className=\"statistics animation bg-main text-center\">\r\n              {/* <h5 className=\"statistics__amount text-white\">10k+</h5> */}\r\n              <span className=\"statistics__text text-white font-14\">\r\n                Verified <br />\r\n                Healthcare <br />\r\n                Centre{\" \"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"account__right padding-y-120 flx-align\">\r\n          <div className=\"account-content \" style={{marginBottom:\"5px\"}}>\r\n            <Link to=\"/\" className=\"logo\"> \r\n              <img\r\n                src=\"assets/images/logo/BHARATLOGO-01.png\"\r\n                alt=\"\"\r\n                className=\"white-version\"\r\n              />\r\n\r\n              <img\r\n                src=\"assets/images/logo/BHARATLOGO-01.png\"\r\n                alt=\"\"\r\n                className=\"dark-version\"\r\n              />\r\n            </Link>\r\n{/* \r\n            <h4 className=\"account-content__title mb-40 text-capitalize\">\r\n              Welcome Back!\r\n            </h4> */}\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            <form onSubmit={handleLogin}>\r\n              <div className=\"row gy-4\">\r\n                {/* <div className=\"col-12\">\r\n                  <label\r\n                    htmlFor=\"\"\r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\"\r\n                  >\r\n                    Login As\r\n                  </label>\r\n                  <div className=\"position-relative\">\r\n                    <select\r\n                      id=\"loginAs\"\r\n                      className=\"common-input common-input--bg w-100\"\r\n                      defaultValue=\"\"\r\n                      value={role}\r\n                      onChange={(e) => setRole(e.target.value)}\r\n                    >\r\n                      <option value=\"\" disabled>\r\n                        Select Role\r\n                      </option>\r\n                      <option value=\"admin\">Admin</option>\r\n                      <option value=\"centre\">Centre</option>\r\n                      <option value=\"user\">User</option>\r\n                    </select>\r\n                  </div>\r\n                </div> */}\r\n                <div className=\"col-12\">\r\n                  <label\r\n                    htmlFor=\"email\"\r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\" style={{fontFamily:\"inter\"}}\r\n                  >\r\n                    Email or Phone\r\n                  </label>\r\n\r\n                  <div className=\"position-relative\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"common-input common-input--bg common-input--withIcon\"\r\n                      id=\"email\"\r\n                      placeholder=\"Enter email or phone\"\r\n                      value={identifier}\r\n                      onChange={(e) => setIdentifier(e.target.value)}\r\n                      required\r\n                    />\r\n\r\n                    <span className=\"input-icon\">\r\n                      <img src=\"assets/images/icons/envelope-icon.svg\" alt=\"\" />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <label\r\n                    htmlFor=\"your-password\"\r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\" style={{fontFamily:\"inter\"}}\r\n                  >\r\n                    Password\r\n                  </label>\r\n\r\n                  <div className=\"position-relative\">\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"common-input common-input--bg common-input--withIcon\"\r\n                      id=\"your-password\"\r\n                      placeholder=\"Enter Your Password\"\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      required\r\n                    />\r\n                    <span\r\n                      className=\"input-icon toggle-password cursor-pointer\"\r\n                      id=\"#your-password\"\r\n                    >\r\n                      <img src=\"assets/images/icons/lock-icon.svg\" alt=\"\" />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <div className=\"col-12\">\r\n                  <div className=\"flx-between gap-1\">\r\n                    <Link\r\n                      to=\"/forgot-password\"\r\n                      className=\"forgot-password text-decoration-underline text-main text-poppins font-14\"\r\n                    >\r\n                      Forgot password?\r\n                    </Link>\r\n                  </div>\r\n                </div> */}\r\n\r\n                    <div className=\"col-12\">\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <ReCAPTCHA\r\n                      sitekey={RECAPTCHA_SITE_KEY}\r\n                      onChange={handleRecaptchaChange}\r\n                      onExpired={() => setRecaptchaToken(\"\")}\r\n                      onErrored={() => setRecaptchaToken(\"\")}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-main btn-lg w-100 pill\"\r\n                  >\r\n                    {\" \"}\r\n                    Sign In\r\n                  </button>\r\n                </div>\r\n\r\n                {/* <div className=\"col-sm-12 mb-0\">\r\n                  <div className=\"have-account\">\r\n                    <p className=\"text font-14\">\r\n                     Login as a{\" \"}\r\n                      <Link\r\n                        className=\"link text-main text-decoration-underline fw-500\"\r\n                        to=\"/login\"\r\n                      >\r\n                        User\r\n                      </Link>\r\n                    </p>\r\n                  </div>\r\n                </div> */}\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {/* ================================== Account Page End =========================== */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginAdmin;\r\n\r\n"],"names":["LoginAdmin","navigate","useNavigate","identifier","setIdentifier","useState","password","setPassword","role","setRole","error","setError","recaptchaToken","setRecaptchaToken","_jsx","_Fragment","children","_jsxs","className","style","height","src","alt","marginBottom","Link","to","onSubmit","async","e","preventDefault","apiUrl","concat","process","_res$data","res","axios","post","token","data","_res$data2","_res$data2$admin","localStorage","setItem","admin","id","err","_err$response","_err$response$data","response","message","htmlFor","fontFamily","type","placeholder","value","onChange","target","required","ReCAPTCHA","sitekey","onExpired","onErrored"],"sourceRoot":""}