{"version":3,"file":"static/js/4779.782dd9e3.chunk.js","mappings":"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","sources":["pages/ForgotPassword.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst ForgotPassword = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [role, setRole] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageType, setMessageType] = useState(\"\");\r\n  const [loading, setLoading] = useState(false); // üîπ New state for loading\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!email || !role) {\r\n      setMessage(\"Please fill all fields.\");\r\n      setMessageType(\"danger\");\r\n      return;\r\n    }\r\n\r\n    let apiUrl = \"\";\r\n    if (role === \"admin\")\r\n      apiUrl = `${process.env.REACT_APP_BACKEND_URL}/api/admin/forgot-password`;\r\n    else if (role === \"user\")\r\n      apiUrl = `${process.env.REACT_APP_BACKEND_URL}/api/users/forgot-password`;\r\n    else if (role === \"centre\")\r\n      apiUrl = `${process.env.REACT_APP_BACKEND_URL}/api/centres/forgot-password`;\r\n    else {\r\n      setMessage(\"Invalid role selected.\");\r\n      setMessageType(\"danger\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true); // ‚è≥ Start loading\r\n      await axios.post(apiUrl, { email });\r\n      setMessage(\"Reset link sent successfully.\");\r\n      setMessageType(\"success\");\r\n      setEmail(\"\");\r\n      setRole(\"\");\r\n    } catch (err) {\r\n      const errorMsg = err.response?.data?.message || \"Something went wrong.\";\r\n      setMessage(errorMsg);\r\n      setMessageType(\"danger\");\r\n    } finally {\r\n      setLoading(false); // ‚úÖ Stop loading\r\n    }\r\n  };\r\n\r\n  return (\r\n<>\r\n    <div className=\"container d-flex justify-content-center align-items-center min-vh-100\" style={{flexDirection:\"column\"}}>\r\n      <div\r\n        className=\"card p-4 shadow\"\r\n        style={{ maxWidth: \"400px\", width: \"100%\" }}\r\n      >\r\n        <h3 className=\"mb-4 text-center\">Forgot Password</h3>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label fw-semibold\">Select Role</label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={role}\r\n              onChange={(e) => setRole(e.target.value)}\r\n              disabled={loading} // üî∏ Disable when loading\r\n            >\r\n              <option value=\"\">Select Role</option>\r\n              {/* <option value=\"admin\">Admin</option> */}\r\n              <option value=\"user\">User</option>\r\n              <option value=\"centre\">Centre</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label fw-semibold\">Email Address</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter registered email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              disabled={loading} // üî∏ Disable when loading\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            className=\"btn btn-primary w-100\"\r\n            type=\"submit\"\r\n            disabled={loading} // üî∏ Disable button during loading\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <span\r\n                  className=\"spinner-border spinner-border-sm me-2\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                ></span>\r\n                Sending...\r\n              </>\r\n            ) : (\r\n              \"Send Reset Link\"\r\n            )}\r\n          </button>\r\n        </form>\r\n\r\n        {message && (\r\n          <div className={`alert alert-${messageType} mt-3`} role=\"alert\">\r\n            {message}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n     <div className=\"mt-3\">\r\n      <p style={{fontSize:\"18px\"}}>Back to <a href=\"/\"><u>Home</u></a></p>\r\n     </div>\r\n    </div>\r\n     \r\n     </>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n"],"names":["ForgotPassword","email","setEmail","useState","role","setRole","message","setMessage","messageType","setMessageType","loading","setLoading","_jsx","_Fragment","children","_jsxs","className","style","flexDirection","maxWidth","width","onSubmit","async","e","preventDefault","apiUrl","concat","process","axios","post","err","_err$response","_err$response$data","errorMsg","response","data","value","onChange","target","disabled","type","placeholder","fontSize","href"],"sourceRoot":""}