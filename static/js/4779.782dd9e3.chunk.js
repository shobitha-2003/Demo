"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[4779],{4779:(e,s,a)=>{a.r(s),a.d(s,{default:()=>r});var l=a(5043),t=a(9722),n=a(579);const r=()=>{const[e,s]=(0,l.useState)(""),[a,r]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),[d,o]=(0,l.useState)(""),[m,p]=(0,l.useState)(!1);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"container d-flex justify-content-center align-items-center min-vh-100",style:{flexDirection:"column"},children:[(0,n.jsxs)("div",{className:"card p-4 shadow",style:{maxWidth:"400px",width:"100%"},children:[(0,n.jsx)("h3",{className:"mb-4 text-center",children:"Forgot Password"}),(0,n.jsxs)("form",{onSubmit:async l=>{if(l.preventDefault(),!e||!a)return c("Please fill all fields."),void o("danger");let n="";if("admin"===a)n="".concat("https://api.4ceps.com","/api/admin/forgot-password");else if("user"===a)n="".concat("https://api.4ceps.com","/api/users/forgot-password");else{if("centre"!==a)return c("Invalid role selected."),void o("danger");n="".concat("https://api.4ceps.com","/api/centres/forgot-password")}try{p(!0),await t.A.post(n,{email:e}),c("Reset link sent successfully."),o("success"),s(""),r("")}catch(m){var i,d;const e=(null===(i=m.response)||void 0===i||null===(d=i.data)||void 0===d?void 0:d.message)||"Something went wrong.";c(e),o("danger")}finally{p(!1)}},children:[(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{className:"form-label fw-semibold",children:"Select Role"}),(0,n.jsxs)("select",{className:"form-select",value:a,onChange:e=>r(e.target.value),disabled:m,children:[(0,n.jsx)("option",{value:"",children:"Select Role"}),(0,n.jsx)("option",{value:"user",children:"User"}),(0,n.jsx)("option",{value:"centre",children:"Centre"})]})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{className:"form-label fw-semibold",children:"Email Address"}),(0,n.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter registered email",value:e,onChange:e=>s(e.target.value),disabled:m})]}),(0,n.jsx)("button",{className:"btn btn-primary w-100",type:"submit",disabled:m,children:m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Sending..."]}):"Send Reset Link"})]}),i&&(0,n.jsx)("div",{className:"alert alert-".concat(d," mt-3"),role:"alert",children:i})]}),(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsxs)("p",{style:{fontSize:"18px"},children:["Back to ",(0,n.jsx)("a",{href:"/",children:(0,n.jsx)("u",{children:"Home"})})]})})]})})}}}]);
//# sourceMappingURL=4779.782dd9e3.chunk.js.map