{"version":3,"file":"static/js/5243.f71e6606.chunk.js","mappings":"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","sources":["components/UserLogin.jsx"],"sourcesContent":["import ThemeToggle from \"./ThemeToggle\";\r\nimport { useState, useRef } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\n\r\nconst UserLogin = () => {\r\n  const navigate = useNavigate();\r\n  const [identifier, setIdentifier] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [recaptchaToken, setRecaptchaToken] = useState(\"\");\r\n  const recaptchaRef = useRef();\r\n\r\n  const RECAPTCHA_SITE_KEY = process.env.REACT_APP_RECAPTCHA_SITE_KEY;\r\n\r\n  // Handle reCAPTCHA change\r\n  const handleRecaptchaChange = (token) => {\r\n    setRecaptchaToken(token);\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!identifier || !password) {\r\n      setError(\"Email/Mobile and password are required.\");\r\n      return;\r\n    }\r\n\r\n    if (!recaptchaToken) {\r\n      setError(\"Please complete the reCAPTCHA verification.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/api/users/login`, {\r\n        identifier,\r\n        password,\r\n        recaptchaToken, // Include reCAPTCHA token\r\n      });\r\n\r\n      const { token, user } = response.data;\r\n\r\n      localStorage.setItem(\"token\", token);\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n      localStorage.setItem(\"userToken\", token);\r\n      localStorage.setItem(\"userId\", user.id);\r\n\r\n      navigate(\"/cart-personal\");\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || \"Invalid email or password\");\r\n      console.error(err);\r\n      // Reset reCAPTCHA on error\r\n      setRecaptchaToken(\"\");\r\n      recaptchaRef.current.reset();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* ================================== Account Page Start =========================== */}\r\n      <section className=\"account d-flex\" style={{height:\"100vh\"}}>\r\n        <div className=\"account__left d-md-flex d-none flx-align section-bg position-relative z-index-1 overflow-hidden\">\r\n          <div className=\"account-thumb\">\r\n            <img src=\"assets/images/services/Login.png\" alt=\"\" />\r\n            <div className=\"statistics animation bg-main text-center\">\r\n              {/* <h5 className=\"statistics__amount text-white\">10k+</h5> */}\r\n              <span className=\"statistics__text text-white font-14\">\r\n                Verified <br />\r\n                Healthcare <br />\r\n                Centre{\" \"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"account__right padding-y-120 flx-align\">\r\n          <div className=\"account-content \">\r\n            <Link to=\"/\" className=\"logo\">\r\n              <img\r\n                src=\"assets/images/logo/BHARATLOGO-01.png\"\r\n                alt=\"\"\r\n                className=\"white-version\"\r\n              />\r\n\r\n              <img\r\n                src=\"assets/images/logo/BHARATLOGO-01.png\"\r\n                alt=\"\"\r\n                className=\"dark-version\"\r\n              />\r\n            </Link>\r\n\r\n            {/* <h4 className=\"account-content__title mb-35 text-capitalize\">\r\n              Welcome Back!\r\n            </h4> */}\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            <form onSubmit={handleLogin}>\r\n              <div className=\"row gy-4\">\r\n                <div className=\"col-12\">\r\n                  {/* <label\r\n                    htmlFor=\"\"\r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\"\r\n                  >\r\n                    Login As\r\n                  </label> */}\r\n                  {/* <div className=\"position-relative\">\r\n                    <select\r\n                      id=\"loginAs\"\r\n                      className=\"common-input common-input--bg w-100\"\r\n                      defaultValue=\"\"\r\n                      value={role}\r\n                      onChange={(e) => setRole(e.target.value)}\r\n                    >\r\n                      <option value=\"\" disabled>\r\n                        Select Role\r\n                      </option>\r\n                      <option value=\"admin\">Admin</option>\r\n                      <option value=\"centre\">Centre</option>\r\n                      <option value=\"user\">User</option>\r\n                    </select>\r\n                  </div> */}\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <label\r\n                    htmlFor=\"email\"\r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\" style={{fontFamily:\"inter\"}}\r\n                  >\r\n                    Email or Phone\r\n                  </label>\r\n\r\n                  <div className=\"position-relative\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"common-input common-input--bg common-input--withIcon\"\r\n                      id=\"email\"\r\n                      placeholder=\"Enter email or phone\"\r\n                      value={identifier}\r\n                      onChange={(e) => setIdentifier(e.target.value)}\r\n                    />\r\n\r\n                    <span className=\"input-icon\">\r\n                      <img src=\"assets/images/icons/envelope-icon.svg\" alt=\"\" />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <label\r\n                    htmlFor=\"your-password\" \r\n                    className=\"form-label mb-2 font-18 font-heading fw-600\" style={{fontFamily:\"inter\"}}\r\n                  >\r\n                    Password\r\n                  </label>\r\n\r\n                  <div className=\"position-relative\">\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"common-input common-input--bg common-input--withIcon\"\r\n                      id=\"your-password\"\r\n                      placeholder=\"Enter Your Password\"\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                    <span\r\n                      className=\"input-icon toggle-password cursor-pointer\"\r\n                      id=\"#your-password\"\r\n                    >\r\n                      <img src=\"assets/images/icons/lock-icon.svg\" alt=\"\" />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                     <div className=\"col-12\">\r\n                                                 <div className=\"d-flex justify-content-center\">\r\n                                                   <ReCAPTCHA\r\n                                                     ref={recaptchaRef}\r\n                                                     sitekey={RECAPTCHA_SITE_KEY}\r\n                                                     onChange={handleRecaptchaChange}\r\n                                                     onExpired={() => setRecaptchaToken(\"\")}\r\n                                                     onErrored={() => setRecaptchaToken(\"\")}\r\n                                                   />\r\n                                                 </div>\r\n                                               </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <div className=\"flx-between gap-1\">\r\n                    <Link\r\n                      to=\"/forgot-password\"\r\n                      className=\"forgot-password text-decoration-underline text-main text-poppins font-14\"\r\n                    >\r\n                      Forgot password?\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-main btn-lg w-100 pill\"\r\n                  >\r\n                    {\" \"}\r\n                    Sign In\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"col-sm-12 mb-0\">\r\n                  <div className=\"have-account\">\r\n                    <p className=\"text font-14\">\r\n                      Not Registered?{\" \"}\r\n                      <Link\r\n                        className=\"link text-main text-decoration-underline fw-500\"\r\n                        to=\"/user-register\"\r\n                      >\r\n                        Register\r\n                      </Link>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {/* ================================== Account Page End =========================== */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserLogin;\r\n"],"names":["UserLogin","navigate","useNavigate","identifier","setIdentifier","useState","password","setPassword","error","setError","recaptchaToken","setRecaptchaToken","recaptchaRef","useRef","_jsx","_Fragment","children","_jsxs","className","style","height","src","alt","Link","to","onSubmit","async","e","preventDefault","response","axios","post","concat","process","token","user","data","localStorage","setItem","JSON","stringify","id","err","_err$response","_err$response$data","message","console","current","reset","htmlFor","fontFamily","type","placeholder","value","onChange","target","ReCAPTCHA","ref","sitekey","onExpired","onErrored"],"sourceRoot":""}