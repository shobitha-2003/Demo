"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[8244],{1574:()=>{},1864:(e,s,a)=>{a(5043),a(579)},8244:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var t=a(5043),i=a(9094),n=(a(1864),a(9981)),l=a(9722),r=a(722),o=(a(1574),a(579));const c=()=>{const e=(0,n.Zp)(),[s,a]=(0,t.useState)(""),[i,c]=(0,t.useState)(""),[d,m]=(0,t.useState)("user"),[x,p]=(0,t.useState)(""),[u,g]=(0,t.useState)(""),h=(0,t.useRef)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("section",{className:"account d-flex",style:{height:"100vh"},children:[(0,o.jsx)("div",{className:"account__left d-md-flex d-none flx-align section-bg position-relative z-index-1 overflow-hidden",children:(0,o.jsxs)("div",{className:"account-thumb",children:[(0,o.jsx)("img",{src:"assets/images/services/Login.png",alt:""}),(0,o.jsx)("div",{className:"statistics animation bg-main text-center",children:(0,o.jsxs)("span",{className:"statistics__text text-white font-14",children:["Verified ",(0,o.jsx)("br",{}),"Healthcare ",(0,o.jsx)("br",{}),"Centre"," "]})})]})}),(0,o.jsx)("div",{className:"account__right padding-y-120 flx-align",style:{marginTop:"-30px"},children:(0,o.jsxs)("div",{className:"account-content ",children:[(0,o.jsxs)(n.N_,{to:"/",className:"logo",children:[(0,o.jsx)("img",{src:"assets/images/logo/BHARATLOGO-01.png",alt:"",className:"white-version"}),(0,o.jsx)("img",{src:"assets/images/logo/BHARATLOGO-01.png",alt:"",className:"dark-version"})]}),(0,o.jsx)("div",{style:{display:"flex",gap:"15px",marginBottom:"10px",paddingTop:"-20px",marginTop:"10px",justifyContent:"center"},children:(0,o.jsx)("button",{className:"loginButton",style:{backgroundColor:"#5E36F2",color:"white",borderRadius:"5px",padding:"10px 20px"},children:"Login as a Patient"})}),x&&(0,o.jsx)("div",{className:"alert alert-danger",children:x}),(0,o.jsx)("form",{onSubmit:async a=>{if(a.preventDefault(),!d||!s||!i)return void p("All fields are required.");if(!u)return void p("Please complete the reCAPTCHA verification.");let t="";"user"===d&&(t="".concat("https://api.4ceps.com","/api/users/login"));try{var n;const a=await l.A.post(t,{identifier:s,password:i,recaptchaToken:u}),o=null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.token;if(!o)return p("No token received from server."),g(""),void h.current.reset();var r;if(localStorage.setItem("token",o),"user"===d)localStorage.setItem("user",JSON.stringify(null===(r=a.data)||void 0===r?void 0:r.user)),localStorage.setItem("userToken",o),localStorage.setItem("userId",a.data.user.id),e("/user-dashboard")}catch(m){var o,c;p((null===m||void 0===m||null===(o=m.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||"Login failed."),g(""),h.current.reset()}},children:(0,o.jsxs)("div",{className:"row gy-4",children:[(0,o.jsxs)("div",{className:"col-12",children:[(0,o.jsx)("label",{htmlFor:"email",className:"form-label mb-2 font-18 font-heading fw-600",style:{fontFamily:"inter"},children:"Email or Phone"}),(0,o.jsxs)("div",{className:"position-relative",children:[(0,o.jsx)("input",{type:"text",className:"common-input common-input--bg common-input--withIcon",id:"email",placeholder:"Enter email or phone",value:s,onChange:e=>a(e.target.value),required:!0}),(0,o.jsx)("span",{className:"input-icon",children:(0,o.jsx)("img",{src:"assets/images/icons/envelope-icon.svg",alt:""})})]})]}),(0,o.jsxs)("div",{className:"col-12",children:[(0,o.jsx)("label",{htmlFor:"your-password",className:"form-label mb-2 font-18 font-heading fw-600",style:{fontFamily:"inter"},children:"Password"}),(0,o.jsxs)("div",{className:"position-relative",children:[(0,o.jsx)("input",{type:"password",className:"common-input common-input--bg common-input--withIcon",id:"your-password",placeholder:"Enter Your Password",value:i,onChange:e=>c(e.target.value),required:!0}),(0,o.jsx)("span",{className:"input-icon toggle-password cursor-pointer",id:"#your-password",children:(0,o.jsx)("img",{src:"assets/images/icons/lock-icon.svg",alt:""})})]})]}),(0,o.jsx)("div",{className:"col-12",children:(0,o.jsx)("div",{className:"d-flex justify-content-center",children:(0,o.jsx)(r.A,{ref:h,sitekey:"6LdCMxAsAAAAAKSMZDf_busgxu2W8hRbl2LK7CFD",onChange:e=>{g(e)},onExpired:()=>g(""),onErrored:()=>g("")})})}),(0,o.jsx)("div",{className:"col-12",children:(0,o.jsx)("div",{className:"flx-between gap-1",children:(0,o.jsx)(n.N_,{to:"/forgot-password",className:"forgot-password text-decoration-underline text-main text-poppins font-14",children:"Forgot password?"})})}),(0,o.jsx)("div",{className:"col-12",children:(0,o.jsx)("button",{type:"submit",className:"btn btn-main btn-lg w-100 pill",disabled:!u,children:"Sign In"})}),(0,o.jsx)("div",{className:"col-12 ",children:(0,o.jsxs)("button",{type:"button",style:{backgroundColor:"rgb(219 213 255)",color:"#7236f2",borderRadius:"5px",padding:"10px 20px",height:"60px"},onClick:()=>e("/"),className:"btn-lg w-100 pill",children:[(0,o.jsx)("i",{className:"fa fa-arrow-left "})," Back to Home"]})}),(0,o.jsx)("div",{className:"col-sm-12 mb-0",children:(0,o.jsx)("div",{className:"have-account",children:(0,o.jsxs)("p",{className:"text font-14",children:["Not Registered?"," ",(0,o.jsx)(n.N_,{className:"link text-main text-decoration-underline fw-500",to:"/user-register",children:"Register"})]})})})]})})]})})]})})},d=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.A,{}),(0,o.jsx)(c,{})]})},9094:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(579);const i=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"overlay"}),(0,t.jsx)("div",{className:"side-overlay"}),(0,t.jsx)("div",{className:"progress-wrap",children:(0,t.jsx)("svg",{className:"progress-circle svg-content",width:"100%",height:"100%",viewBox:"-1 -1 102 102",children:(0,t.jsx)("path",{d:"M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"})})})]})}}]);
//# sourceMappingURL=8244.04957feb.chunk.js.map