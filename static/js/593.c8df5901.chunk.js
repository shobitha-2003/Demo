"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[593],{593:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(5043),n=a(9094),r=a(9379),l=a(9981),i=a(9722),o=a(579);const c=()=>{const[e,s]=(0,t.useState)({centreName:"",centreType:"",email:"",phoneNumber:""}),[a,n]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[m,x]=(0,t.useState)(""),[p,h]=(0,t.useState)(!1),[u,b]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),[j,v]=(0,t.useState)(""),[y,N]=(0,t.useState)(!1),[C,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(0),T=a=>{const{id:t,value:n}=a.target;s((0,r.A)((0,r.A)({},e),{},{[t]:n}))};(0,t.useEffect)(()=>{if(k>0){const e=setInterval(()=>S(e=>e-1),1e3);return()=>clearInterval(e)}},[k]);const A=(0,t.useRef)(null);return(0,t.useEffect)(()=>{const e=e=>{A.current&&!A.current.contains(e.target)&&p&&p(!1)};return document.addEventListener("mousedown",e),document.body.style.overflow=p?"hidden":"auto",()=>{document.removeEventListener("mousedown",e),document.body.style.overflow="auto"}},[p]),(0,o.jsx)("div",{className:"dashboard-body__content",children:(0,o.jsx)("div",{className:"card common-card",children:(0,o.jsx)("div",{className:"card-body",children:(0,o.jsx)("div",{className:"row gy-4",children:(0,o.jsxs)("div",{className:"col-lg-12 col-12",children:[(0,o.jsx)("div",{className:"setting-content",children:(0,o.jsxs)("div",{className:"card common-card border border-gray-five overflow-hidden mb-24",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("h6",{className:"title",children:"Healthcare Centre Details"})}),(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("form",{onSubmit:async s=>{s.preventDefault();try{n(!0);const s=await i.A.post("".concat("https://api.4ceps.com","/api/centres/send-otp"),e);s.data.success&&(d("OTP sent to your mobile number: ".concat(e.phoneNumber,". Please verify to complete registration.")),h(!0),S(Math.ceil(s.data.cooldown/30)))}catch(r){var a,t;console.error("Error sending OTP:",r),x((null===r||void 0===r||null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Something went wrong.")}finally{n(!1)}},children:(0,o.jsxs)("div",{className:"row gy-3",children:[(0,o.jsxs)("div",{className:"col-sm-6 col-xs-6",children:[(0,o.jsx)("label",{htmlFor:"centreName",className:"form-label",children:"Healthcare Centre Name"}),(0,o.jsx)("input",{type:"text",className:"common-input",id:"centreName",value:e.centreName,onChange:T,onKeyDown:e=>{/^[a-zA-Z\s'-]$|Backspace|Delete|Arrow/.test(e.key)||e.preventDefault()},required:!0})]}),(0,o.jsxs)("div",{className:"col-sm-6 col-xs-6",children:[(0,o.jsx)("label",{htmlFor:"centreType",className:"form-label",children:"Healthcare Centre Type"}),(0,o.jsxs)("select",{className:"common-input border",id:"centreType",value:e.centreType,onChange:T,required:!0,children:[(0,o.jsx)("option",{value:"",disabled:!0,children:"Select Type"}),(0,o.jsx)("option",{value:"Hospital",children:"Hospital"}),(0,o.jsx)("option",{value:"General Clinic",children:"General Clinic"}),(0,o.jsx)("option",{value:"Dental Care Centre",children:"Dental Care Centre"}),(0,o.jsx)("option",{value:"Labs and Diagnostic",children:"Labs and Diagnostic"}),(0,o.jsx)("option",{value:"AYUSH Centre",children:"AYUSH Centre"}),(0,o.jsx)("option",{value:"Miscellaneous Healthcare Centre",children:"Miscellaneous Healthcare Centre"})]})]}),(0,o.jsxs)("div",{className:"col-sm-6 col-xs-6",children:[(0,o.jsx)("label",{htmlFor:"email",className:"form-label",children:"Healthcare Centre Email"}),(0,o.jsx)("input",{type:"email",className:"common-input",id:"email",value:e.email,onChange:T,required:!0})]}),(0,o.jsxs)("div",{className:"col-sm-6 col-xs-6",children:[(0,o.jsx)("label",{htmlFor:"phoneNumber",className:"form-label",children:"Healthcare Centre Mobile Number"}),(0,o.jsx)("input",{type:"tel",className:"common-input",id:"phoneNumber",value:e.phoneNumber,onChange:T,required:!0,onKeyPress:s=>{const a=s.key;/[0-9]/.test(a)&&(0!==e.phoneNumber.length||/[6-9]/.test(a))||s.preventDefault()},maxLength:10})]}),m&&(0,o.jsx)("div",{className:"alert alert-danger text-center",children:m}),(0,o.jsx)("button",{type:"submit",className:"btn w-100 btn-main btn-md",disabled:a,children:a?"Sending OTP...":"Register"})]})})," "]})]})}),p&&(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,o.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"10px",maxWidth:"500px",width:"90%",boxShadow:"0 0 10px rgba(0,0,0,0.3)",overflowY:"auto",paddingBottom:"20px",position:"relative"},children:C?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{style:{backgroundColor:"#28a745",color:"#fff",padding:"15px 20px",fontSize:"18px",fontWeight:"bold",position:"relative"},children:[(0,o.jsx)("i",{className:"fas fa-check-circle me-2"})," ","Registration Successful"]}),(0,o.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"#333"},children:[(0,o.jsx)("i",{className:"fas fa-check-circle text-success",style:{fontSize:"4rem",color:"#28a745"}}),(0,o.jsx)("h5",{className:"mt-3",children:"OTP Verified Successfully!"}),(0,o.jsx)("p",{className:"mt-2",children:"Please check your email to complete the registration process."}),(0,o.jsxs)("div",{style:{backgroundColor:"#e7f3ff",padding:"15px",borderRadius:"8px",textAlign:"left",marginTop:"15px"},children:[(0,o.jsx)("i",{className:"fas fa-envelope text-primary me-2",style:{fontSize:"1.2rem"}}),(0,o.jsx)("strong",{children:"Email sent to:"}),(0,o.jsx)("p",{style:{color:"#007bff",margin:"5px 0"},children:e.email}),(0,o.jsx)("small",{style:{color:"#666"},children:"Follow the instructions in the email to set your password."})]}),(0,o.jsx)("div",{className:"alert alert-warning border-0 mt-3",style:{backgroundColor:"#fff8e1"},children:(0,o.jsxs)("small",{className:"text-muted",children:[(0,o.jsx)("i",{className:"fas fa-info-circle me-1"}),"Don't forget to check your spam/junk folder if you don't see the email in your inbox."]})})]}),(0,o.jsx)("div",{style:{padding:"0 20px 20px 20px"},children:(0,o.jsxs)("button",{onClick:()=>{w(!1),h(!1),s({centreName:"",centreType:"",email:"",phoneNumber:""}),b(""),v(""),g("")},style:{backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"6px",padding:"10px",width:"100%",fontSize:"16px",cursor:"pointer"},children:[(0,o.jsx)("i",{className:"fas fa-times me-2"})," Close"]})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{style:{backgroundColor:"#3a3a3a",color:"#fff",padding:"15px 20px",fontSize:"18px",fontWeight:"bold",position:"relative"},children:[(0,o.jsx)("i",{className:"fas fa-key me-2"})," Verify OTP",(0,o.jsx)("button",{onClick:()=>h(!1),style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",fontSize:"22px",color:"#fff",cursor:"pointer"},children:"\xd7"})]}),(0,o.jsxs)("div",{style:{padding:"20px",color:"#333"},children:[(0,o.jsxs)("p",{children:["An OTP has been sent to your mobile number:"," ",(0,o.jsx)("strong",{children:e.phoneNumber})]}),(0,o.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter OTP",value:u,onChange:e=>b(e.target.value),maxLength:"6",style:{marginTop:"10px",textAlign:"center",fontSize:"18px",letterSpacing:"5px"}}),f&&(0,o.jsx)("div",{style:{backgroundColor:"#fdecea",color:"#d93025",padding:"10px",borderRadius:"6px",marginTop:"10px"},children:f}),j&&(0,o.jsxs)("div",{style:{backgroundColor:"#e7f7ed",color:"#0f9d58",padding:"10px",borderRadius:"6px",marginTop:"10px",display:"flex",alignItems:"center"},children:[(0,o.jsx)("i",{className:"fas fa-check-circle me-2"}),(0,o.jsx)("strong",{children:j})]})]}),(0,o.jsxs)("div",{style:{padding:"0 20px 20px 20px",display:"flex",flexDirection:"column",gap:"10px"},children:[(0,o.jsx)("div",{style:{textAlign:"right"},children:k>0?(0,o.jsxs)("span",{style:{color:"gray",fontSize:"14px"},children:["Resend in ",Math.ceil(k/60),"s"]}):(0,o.jsx)("button",{onClick:async()=>{try{const s=await i.A.post("".concat("https://api.4ceps.com","/api/centres/send-otp"),e);s.data.success&&(v("New OTP sent to your Phone number."),g(""),S(Math.ceil(s.data.cooldown/30)))}catch(t){var s,a;g((null===t||void 0===t||null===(s=t.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to resend OTP. Try again later."),v("")}},style:{color:"#007bff",background:"none",border:"none",cursor:"pointer",fontSize:"14px"},children:"Resend OTP"})}),(0,o.jsx)("button",{onClick:async()=>{try{N(!0);(await i.A.post("".concat("https://api.4ceps.com","/api/centres/verify-otp"),(0,r.A)((0,r.A)({},e),{},{otp:u}))).data.success&&(g(""),v(""),w(!0))}catch(t){var s,a;console.error("OTP verification failed:",t),g((null===t||void 0===t||null===(s=t.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Invalid OTP. Please try again."),v(""),b("")}finally{N(!1)}},disabled:y,style:{backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"6px",padding:"10px",fontSize:"16px",cursor:"pointer"},children:y?"Verifying...":"Verify OTP"})]})]})})}),(0,o.jsx)("div",{className:"col-sm-12 mb-0 mt-5",children:(0,o.jsx)("div",{className:"have-account",children:(0,o.jsxs)("p",{className:"text font-14",children:["Already Registered?"," ",(0,o.jsx)(l.N_,{className:"link text-main text-decoration-underline fw-500",to:"/centre-login",children:"Login"})]})})})]})})})})})};var d=a(6165),m=a(7458),x=a(2784);const p=()=>(0,o.jsx)("section",{className:"breadcrumb border-bottom p-0 d-block section-bg position-relative z-index-1",children:(0,o.jsxs)("div",{className:"breadcrumb-two",children:[(0,o.jsx)("img",{src:"/assets/images/gradients/Bg2.webp",alt:"",className:"bg--gradient"}),(0,o.jsx)("div",{className:"container container-two",children:(0,o.jsx)("div",{className:"row justify-content-center",children:(0,o.jsx)("div",{className:"col-lg-12",children:(0,o.jsxs)("div",{className:"breadcrumb-two-content text-center",children:[(0,o.jsxs)("ul",{className:"breadcrumb-list flx-align gap-2 mb-2 justify-content-center",children:[(0,o.jsx)("li",{className:"breadcrumb-list__item font-14 text-body",children:(0,o.jsx)(l.N_,{to:"/",className:"breadcrumb-list__link text-body hover-text-main",children:"Home"})}),(0,o.jsx)("li",{className:"breadcrumb-list__item font-14 text-body",children:(0,o.jsx)("span",{className:"breadcrumb-list__icon font-10",children:(0,o.jsx)("i",{className:"fas fa-chevron-right"})})}),(0,o.jsx)("li",{className:"breadcrumb-list__item font-14 text-body",children:(0,o.jsx)("span",{className:"breadcrumb-list__text",children:"Register"})})]}),(0,o.jsx)("h3",{className:"breadcrumb-two-content__title mb-0 text-capitalize",children:"Healthcare Centre Registration"}),(0,o.jsxs)(l.N_,{to:"/user-register",style:{marginTop:"9px"},className:"btn btn-main pill",children:[(0,o.jsx)("span",{className:"icon-left icon",children:(0,o.jsx)("img",{src:"/assets/images/icons/user.svg",alt:""})}),"Register as Patient"]})]})})})})]})}),h=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.A,{}),(0,o.jsx)(m.A,{}),(0,o.jsx)(p,{}),(0,o.jsx)(n.A,{}),(0,o.jsx)(c,{}),(0,o.jsx)(x.A,{})]})},9094:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(579);const n=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"overlay"}),(0,t.jsx)("div",{className:"side-overlay"}),(0,t.jsx)("div",{className:"progress-wrap",children:(0,t.jsx)("svg",{className:"progress-circle svg-content",width:"100%",height:"100%",viewBox:"-1 -1 102 102",children:(0,t.jsx)("path",{d:"M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"})})})]})}}]);
//# sourceMappingURL=593.c8df5901.chunk.js.map